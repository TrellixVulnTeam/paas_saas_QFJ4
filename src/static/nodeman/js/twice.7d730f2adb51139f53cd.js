/*! For license information please see twice.7d730f2adb51139f53cd.js.LICENSE.txt */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],Array(272).concat([function(t,e,r){"use strict";r.r(e);var n=r(579);var i=r(302);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(463);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"447665fa",null);e["default"]=l.exports},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=e.defaultPort=e.authentication=void 0;var n=function t(){var e=[{id:"PASSWORD",name:window.i18n.t("密码"),disabled:false,type:"password"},{id:"KEY",name:window.i18n.t("密钥"),disabled:false,type:"file"}];if(window.PROJECT_CONFIG.USE_TJJ==="True"){e.push({id:"TJJ_PASSWORD",name:window.i18n.t("铁将军"),readonly:true,default:window.i18n.t("自动拉取"),type:"text"})}return e};var i=n();e.authentication=i;var a=window.PROJECT_CONFIG.DEFAULT_SSH_PORT?Number(window.PROJECT_CONFIG.DEFAULT_SSH_PORT):22;e.defaultPort=a;var o=i;e.default=o},function(t,e,r){var n=r(452);var i=r(453);var a=r(454);function o(t,e){return n(t)||i(t,e)||a()}t.exports=o},function(t,e,r){var n=r(469);var i=r(470);var a=r(471);function o(t){return n(t)||i(t)||a()}t.exports=o},function(t,e,r){"use strict";r.r(e);var n=r(576);var i=r(287);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(455);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"cb06dbb8",null);e["default"]=l.exports},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(11));var a=r(18);var o=void 0&&(void 0).__extends||function(){var t=function e(r,n){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r))t[r]=e[r]}};return t(r,n)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=void 0&&(void 0).__decorate||function(t,e,r,n){var a=arguments.length,o=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if((typeof Reflect==="undefined"?"undefined":(0,i.default)(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--){if(s=t[l])o=(a<3?s(o):a>3?s(e,r,o):s(e,r))||o}return a>3&&o&&Object.defineProperty(e,r,o),o};var l=function(t){o(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.minWidth=0;return e}e.prototype.initLabelWidth=function(t){var e=this;var r=t?t.$el:null;if(!r)return;var n=0;var i=28;var a=8;var o=r.querySelectorAll(".bk-label");o.forEach((function(t){var r=t.querySelector("span");if(r){var i=r.getBoundingClientRect().width;n=Math.max(e.minWidth,n,i)}}));var s=Math.ceil(n+i+a);o.forEach((function(t){t.style.width=s+"px"}));r.querySelectorAll(".bk-form-content").forEach((function(t){t.style.marginLeft=s+"px"}));return s};e=s([a.Component],e);return e}(a.Vue);var u=l;e.default=u},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(11));var a=r(18);var o=void 0&&(void 0).__extends||function(){var t=function e(r,n){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r))t[r]=e[r]}};return t(r,n)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=void 0&&(void 0).__decorate||function(t,e,r,n){var a=arguments.length,o=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if((typeof Reflect==="undefined"?"undefined":(0,i.default)(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--){if(s=t[l])o=(a<3?s(o):a>3?s(e,r,o):s(e,r))||o}return a>3&&o&&Object.defineProperty(e,r,o),o};var l=void 0&&(void 0).__awaiter||function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):i(t.value).then(o,s)}l((n=n.apply(t,e||[])).next())}))};var u=void 0&&(void 0).__generator||function(t,e){var r={label:0,sent:function t(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(r){try{if(n=1,i&&(a=o[0]&2?i["return"]:o[0]?i["throw"]||((a=i["return"])&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;if(i=0,a)o=[o[0]&2,a.value];switch(o[0]){case 0:case 1:a=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;i=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(a=r.trys,a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1];a=o;break}if(a&&r.label<a[2]){r.label=a[2];r.ops.push(o);break}if(a[2])r.ops.pop();r.trys.pop();continue}o=e.call(t,r)}catch(t){o=[6,t];i=0}finally{n=a=0}}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};var c=function(t){o(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e=s([a.Component],e);return e}(a.Vue);var f=function(t){o(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.runingQueue=[];e.timer=null;e.interval=5e3;return e}e.prototype.handleQueueChange=function(t){if(t&&t.length>0&&!this.timer){this.handleRunTimer()}else if(!t||t.length===0){clearTimeout(this.timer);this.timer=null}};e.prototype.beforeDestroy=function(){clearTimeout(this.timer);this.timer=null;this.runingQueue=[]};e.prototype.handleRunTimer=function(){return l(this,void 0,void 0,(function(){var t;var e=this;return u(this,(function(r){t=function r(){return l(e,void 0,void 0,(function(){var e;return u(this,(function(r){switch(r.label){case 0:if(this.runingQueue.length===0){clearTimeout(this.timer);this.timer=null;return[2]}e=this.handlePollData;if(!e)return[3,2];return[4,this.handlePollData()];case 1:e=r.sent();r.label=2;case 2:e;this.timer=setTimeout((function(){t()}),this.interval);return[2]}}))}))};this.timer=setTimeout(t,this.interval);return[2]}))}))};s([(0,a.Watch)("runingQueue")],e.prototype,"handleQueueChange",null);e=s([a.Component],e);return e}(c);var d=f;e.default=d},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(457));var a=r(10);var o={data:function t(){return{filterData:[],searchSelectValue:[]}},computed:{searchSelectData:function t(){var e=this.searchSelectValue.map((function(t){return t.id}));return this.filterData.filter((function(t){return!e.includes(t.id)}))},headerData:function t(){return this.filterData.reduce((function(t,e){if(e.children&&e.children.length){t[e.id]=e.children}return t}),{})}},methods:{renderFilterHeader:function t(e,r){var n=this;var o=this.headerData[r.column.property]||this.headerData[(0,a.toLine)(r.column.property)]||[];var s=this.filterData.find((function(t){var e=r.column.property;return t.id===e||t.id===(0,a.toLine)(e)}))||{};var l=r.column.label||"";var u=r.column.property||"";return e(i.default,{attrs:{name:l,property:u,filterList:o,showSearch:!!s.showSearch,checkAll:!!s.showCheckAll,width:s.width,align:s.align},on:{confirm:function t(e,r){return n.handleFilterHeaderConfirm(e,r)},reset:function t(e){return n.handleFilterHeaderReset(e)}}})},handleSearchSelectChange:function t(e){this.filterData.forEach((function(t){var r=e.find((function(e){return e.id===t.id}));if(t.children){t.children=t.children.map((function(t){if(!r){t.checked=false}else{t.checked=r.values.some((function(e){return e.id===t.id}))}return t}))}}))},handleFilterHeaderReset:function t(e){var r=this.searchSelectValue.findIndex((function(t){return t.id===e}));if(r>-1){this.searchSelectValue.splice(r,1)}},handleFilterHeaderConfirm:function t(e,r){var n=this.searchSelectValue.findIndex((function(t){return t.id===e||t.id===(0,a.toLine)(e)}));var i=r.reduce((function(t,e){if(e.checked){t.push({id:e.id,name:e.name})}return t}),[]);if(n>-1){this.searchSelectValue[n].values=i}else{var o=this.filterData.find((function(t){return t.id===e||t.id===(0,a.toLine)(e)}));this.searchSelectValue.push({id:e,name:o?o.name:"",values:i})}},handlePushValue:function t(e,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(!r||!Array.isArray(r))return;var i=this.searchSelectValue.findIndex((function(t){return t.id===e||t.id===(0,a.toLine)(e)}));if(i>-1){var o=n?this.searchSelectValue[i].values||[]:[];r.forEach((function(t){var e=o.some((function(e){return e&&e.id===t.id}));if(!e){o.push(t)}}));this.searchSelectValue[i].values=o}else if(e){var s=this.filterData.find((function(t){return t.id===e||t.id===(0,a.toLine)(e)}));this.searchSelectValue.push({id:e,name:s?s.name:"",values:r})}}}};e.default=o},function(t,e,r){"use strict";r.r(e);r.d(e,"addListener",(function(){return h}));r.d(e,"removeListener",(function(){return v}));let n=null;function i(t){if(!n){n=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){return setTimeout(t,16)}).bind(window)}return n(t)}let a=null;function o(t){if(!a){a=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(t){clearTimeout(t)}).bind(window)}a(t)}function s(t){var e=document.createElement("style");e.type="text/css";if(e.styleSheet){e.styleSheet.cssText=t}else{e.appendChild(document.createTextNode(t))}(document.querySelector("head")||document.body).appendChild(e);return e}function l(t,e={}){let r=document.createElement(t);Object.keys(e).forEach(t=>{r[t]=e[t]});return r}function u(t,e,r){let n=window.getComputedStyle(t,r||null)||{display:"none"};return n[e]}function c(t){if(!document.documentElement.contains(t)){return{detached:true,rendered:false}}let e=t;while(e!==document){if(u(e,"display")==="none"){return{detached:false,rendered:false}}e=e.parentNode}return{detached:false,rendered:true}}var f='.resize-triggers{visibility:hidden;opacity:0;pointer-events:none}.resize-contract-trigger,.resize-contract-trigger:before,.resize-expand-trigger,.resize-triggers{content:"";position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden}.resize-contract-trigger,.resize-expand-trigger{background:#eee;overflow:auto}.resize-contract-trigger:before{width:200%;height:200%}';let d=0;let p=null;function h(t,e){if(!t.__resize_mutation_handler__){t.__resize_mutation_handler__=g.bind(t)}let r=t.__resize_listeners__;if(!r){t.__resize_listeners__=[];if(window.ResizeObserver){let{offsetWidth:e,offsetHeight:r}=t;let n=new ResizeObserver(()=>{if(!t.__resize_observer_triggered__){t.__resize_observer_triggered__=true;if(t.offsetWidth===e&&t.offsetHeight===r){return}}_(t)});let{detached:i,rendered:a}=c(t);t.__resize_observer_triggered__=i===false&&a===false;t.__resize_observer__=n;n.observe(t)}else if(t.attachEvent&&t.addEventListener){t.__resize_legacy_resize_handler__=function e(){_(t)};t.attachEvent("onresize",t.__resize_legacy_resize_handler__);document.addEventListener("DOMSubtreeModified",t.__resize_mutation_handler__)}else{if(!d){p=s(f)}b(t);t.__resize_rendered__=c(t).rendered;if(window.MutationObserver){let e=new MutationObserver(t.__resize_mutation_handler__);e.observe(document,{attributes:true,childList:true,characterData:true,subtree:true});t.__resize_mutation_observer__=e}}}t.__resize_listeners__.push(e);d++}function v(t,e){let r=t.__resize_listeners__;if(!r){return}if(e){r.splice(r.indexOf(e),1)}if(!r.length||!e){if(t.detachEvent&&t.removeEventListener){t.detachEvent("onresize",t.__resize_legacy_resize_handler__);document.removeEventListener("DOMSubtreeModified",t.__resize_mutation_handler__);return}if(t.__resize_observer__){t.__resize_observer__.unobserve(t);t.__resize_observer__.disconnect();t.__resize_observer__=null}else{if(t.__resize_mutation_observer__){t.__resize_mutation_observer__.disconnect();t.__resize_mutation_observer__=null}t.removeEventListener("scroll",m);t.removeChild(t.__resize_triggers__.triggers);t.__resize_triggers__=null}t.__resize_listeners__=null}if(!--d&&p){p.parentNode.removeChild(p)}}function y(t){let{width:e,height:r}=t.__resize_last__;let{offsetWidth:n,offsetHeight:i}=t;if(n!==e||i!==r){return{width:n,height:i}}return null}function g(){let{rendered:t,detached:e}=c(this);if(t!==this.__resize_rendered__){if(!e&&this.__resize_triggers__){w(this);this.addEventListener("scroll",m,true)}this.__resize_rendered__=t;_(this)}}function m(){w(this);if(this.__resize_raf__){o(this.__resize_raf__)}this.__resize_raf__=i(()=>{let t=y(this);if(t){this.__resize_last__=t;_(this)}})}function _(t){if(!t||!t.__resize_listeners__){return}t.__resize_listeners__.forEach(e=>{e.call(t,t)})}function b(t){let e=u(t,"position");if(!e||e==="static"){t.style.position="relative"}t.__resize_old_position__=e;t.__resize_last__={};let r=l("div",{className:"resize-triggers"});let n=l("div",{className:"resize-expand-trigger"});let i=l("div");let a=l("div",{className:"resize-contract-trigger"});n.appendChild(i);r.appendChild(n);r.appendChild(a);t.appendChild(r);t.__resize_triggers__={triggers:r,expand:n,expandChild:i,contract:a};w(t);t.addEventListener("scroll",m,true);t.__resize_last__={width:t.offsetWidth,height:t.offsetHeight}}function w(t){let{expand:e,expandChild:r,contract:n}=t.__resize_triggers__;let{scrollWidth:i,scrollHeight:a}=n;let{offsetWidth:o,offsetHeight:s,scrollWidth:l,scrollHeight:u}=e;n.scrollLeft=i;n.scrollTop=a;r.style.width=o+1+"px";r.style.height=s+1+"px";e.scrollLeft=l;e.scrollTop=u}},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=e.UPDATE_AP_URL=e.SET_CLOUD_LIST=e.SET_CLOUD_AP=void 0;var i=n(r(8));var a=n(r(11));var o=r(446);var s=n(r(19));var l=r(77);var u=r(76);var c=r(70);var f=r(69);var d=r(68);var p=r(10);var h=n(r(53));var v=void 0&&(void 0).__extends||function(){var t=function e(r,n){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r))t[r]=e[r]}};return t(r,n)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var y=void 0&&(void 0).__decorate||function(t,e,r,n){var i=arguments.length,o=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if((typeof Reflect==="undefined"?"undefined":(0,a.default)(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--){if(s=t[l])o=(i<3?s(o):i>3?s(e,r,o):s(e,r))||o}return i>3&&o&&Object.defineProperty(e,r,o),o};var g=void 0&&(void 0).__awaiter||function(t,e,r,n){function i(t){return t instanceof r?t:new r((function(e){e(t)}))}return new(r||(r=Promise))((function(r,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?r(t.value):i(t.value).then(o,s)}l((n=n.apply(t,e||[])).next())}))};var m=void 0&&(void 0).__generator||function(t,e){var r={label:0,sent:function t(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(r){try{if(n=1,i&&(a=o[0]&2?i["return"]:o[0]?i["throw"]||((a=i["return"])&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;if(i=0,a)o=[o[0]&2,a.value];switch(o[0]){case 0:case 1:a=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;i=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(a=r.trys,a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1];a=o;break}if(a&&r.label<a[2]){r.label=a[2];r.ops.push(o);break}if(a[2])r.ops.pop();r.trys.pop();continue}o=e.call(t,r)}catch(t){o=[6,t];i=0}finally{n=a=0}}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};var _="SET_CLOUD_AP";e.SET_CLOUD_AP=_;var b="SET_CLOUD_LIST";e.SET_CLOUD_LIST=b;var w="updateApUrl";e.UPDATE_AP_URL=w;var k=function(t){v(e,t);function e(){var e=t!==null&&t.apply(this,arguments)||this;e.apData=[];e.list=[];e.url="";e.authorityMap={};return e}Object.defineProperty(e.prototype,"apList",{get:function t(){return this.apData},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"cloudList",{get:function t(){return this.list},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"apUrl",{get:function t(){return this.url},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"authority",{get:function t(){return this.authorityMap},enumerable:false,configurable:true});e.prototype[r=_]=function(t){if(t===void 0){t=[]}this.apData=t};e.prototype[n=b]=function(t){if(t===void 0){t=[]}this.list=t};e.prototype[a=w]=function(t){if(t===void 0){t=""}this.url=t};e.prototype.setAuthority=function(t){if(t===void 0){t={}}this.authorityMap=t};e.prototype.getCloudList=function(t){return g(this,void 0,void 0,(function(){var e;return m(this,(function(r){switch(r.label){case 0:return[4,(0,l.listCloud)(t).then((function(t){return t.map((function(t){return(0,i.default)(t,t.permissions)}))})).catch((function(){return[]}))];case 1:e=r.sent();e=(0,p.transformDataKey)(e).sort((function(t,e){if(!t.proxyCount||!e.proxyCount){return t.proxyCount-e.proxyCount}return Number(t.exception!=="abnormal")-Number(e.exception!=="abnormal")}));this[b](e);return[2,e]}}))}))};e.prototype.getApList=function(){return g(this,void 0,void 0,(function(){var t;return m(this,(function(e){switch(e.label){case 0:return[4,(0,c.listAp)().catch((function(){return[]}))];case 1:t=e.sent();this[_](t);return[2,t]}}))}))};e.prototype.getCloudDetail=function(t){return g(this,void 0,void 0,(function(){var e;return m(this,(function(r){switch(r.label){case 0:return[4,(0,l.retrieveCloud)(t).catch((function(){return{}}))];case 1:e=r.sent();return[2,(0,p.transformDataKey)(e)]}}))}))};e.prototype.deleteCloud=function(t){return g(this,void 0,void 0,(function(){var e;return m(this,(function(r){switch(r.label){case 0:return[4,(0,l.deleteCloud)(t,null,{needRes:true}).catch((function(){return false}))];case 1:e=r.sent();return[2,e]}}))}))};e.prototype.createCloud=function(t){return g(this,void 0,void 0,(function(){var e;return m(this,(function(r){switch(r.label){case 0:return[4,(0,l.createCloud)(t).catch((function(){return false}))];case 1:e=r.sent();return[2,e]}}))}))};e.prototype.setupProxy=function(t){var e=t.params,r=t.config;return g(this,void 0,void 0,(function(){var t;return m(this,(function(n){t=(0,f.installJob)(e,r).catch((function(){return false}));return[2,t]}))}))};e.prototype.updateCloud=function(t){var e=t.pk,r=t.params;return g(this,void 0,void 0,(function(){var t;return m(this,(function(n){switch(n.label){case 0:return[4,(0,l.updateCloud)(e,r).then((function(){return true})).catch((function(){return false}))];case 1:t=n.sent();return[2,t]}}))}))};e.prototype.getCloudProxyList=function(t){return g(this,void 0,void 0,(function(){var e;return m(this,(function(r){switch(r.label){case 0:return[4,(0,u.retrieveCloudProxies)(t).catch((function(){return[]}))];case 1:e=r.sent();e=e.map((function(t){var e=t.extra_data||{},r=e.bt_speed_limit,n=e.peer_exchange_switch_for_agent;t.status=t.status?t.status.toLowerCase():"";t.bt_speed_limit=r||"";t.peer_exchange_switch_for_agent=!!n||false;return t}));return[2,e]}}))}))};e.prototype.updateHost=function(t){return g(this,void 0,void 0,(function(){var e;return m(this,(function(r){switch(r.label){case 0:return[4,(0,u.updateHost)(t).catch((function(){return false}))];case 1:e=r.sent();return[2,e]}}))}))};e.prototype.operateJob=function(t){return g(this,void 0,void 0,(function(){var e;return m(this,(function(r){switch(r.label){case 0:return[4,(0,f.operateJob)(t).catch((function(){return false}))];case 1:e=r.sent();return[2,e]}}))}))};e.prototype.removeHost=function(t){return g(this,void 0,void 0,(function(){var e;return m(this,(function(r){switch(r.label){case 0:return[4,(0,u.removeHost)(t).catch((function(){return false}))];case 1:e=r.sent();return[2,e]}}))}))};e.prototype.setApUrl=function(t){var e=t.id,r=t.urlType,n=r===void 0?"package_outer_url":r;var i="";if(!e&&e!==0){this[w]();return}var a=e===-1?this.apData.filter((function(t){return t.id!==-1})):this.apData.filter((function(t){return t.id===e}));if(a.length){i=a.map((function(t){return t[n]})).join(", ")}this[w](i)};e.prototype.getCloudPermission=function(t){return g(this,void 0,void 0,(function(){var e;return m(this,(function(r){switch(r.label){case 0:return[4,(0,d.listCloudPermission)(t).catch((function(t){if(h.default.isCancel(t)){return t}return{edit_action:[],delete_action:[],create_action:false,view_action:[]}}))];case 1:e=r.sent();return[2,e]}}))}))};var r,n,a;y([o.Mutation],e.prototype,r,null);y([o.Mutation],e.prototype,n,null);y([o.Mutation],e.prototype,a,null);y([o.Mutation],e.prototype,"setAuthority",null);y([o.Action],e.prototype,"getCloudList",null);y([o.Action],e.prototype,"getApList",null);y([o.Action],e.prototype,"getCloudDetail",null);y([o.Action],e.prototype,"deleteCloud",null);y([o.Action],e.prototype,"createCloud",null);y([o.Action],e.prototype,"setupProxy",null);y([o.Action],e.prototype,"updateCloud",null);y([o.Action],e.prototype,"getCloudProxyList",null);y([o.Action],e.prototype,"updateHost",null);y([o.Action],e.prototype,"operateJob",null);y([o.Action],e.prototype,"removeHost",null);y([o.Action],e.prototype,"setApUrl",null);y([o.Action],e.prototype,"getCloudPermission",null);e=y([(0,o.Module)({name:"cloud",dynamic:true,namespaced:true,store:s.default})],e);return e}(o.VuexModule);var C=(0,o.getModule)(k);e.default=C},,,,,,function(t,e,r){"use strict";r.r(e);var n=r(288);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(17));var a=r(9);var o=r(13);var s=r(67);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){l(Object(r),true).forEach((function(e){(0,i.default)(t,e,r[e])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}}return t}var c={name:"column-filter",props:{localMark:{type:String,default:""},value:{type:Object,default:function t(){return{}}},filterHead:{type:Boolean,default:false},fontSetting:{type:Boolean,default:true}},data:function t(){return{filter:JSON.parse(JSON.stringify(this.value)),fontConfig:[]}},computed:u(u({},(0,a.mapGetters)(["fontList"])),{},{isAllChecked:function t(){var e=this;return Object.keys(this.filter).every((function(t){var r=e.filter[t];return r.disabled||!r.disabled&&r.checked}))}}),watch:{value:{handler:function t(){this.filter=JSON.parse(JSON.stringify(this.value))},deep:true},fontList:{handler:function t(){this.fontConfig=JSON.parse(JSON.stringify(this.fontList))},deep:true}},created:function t(){o.bus.$on("toggleSetting",this.togglePopover);this.fontConfig=JSON.parse(JSON.stringify(this.fontList))},beforDistory:function t(){o.bus.$off("toggleSetting",this.togglePopover)},methods:u(u({},(0,a.mapMutations)(["setFont"])),{},{handleCheckedAll:function t(e){var r=this;Object.keys(this.filter).forEach((function(t){if(!r.filter[t].disabled){r.filter[t].checked=e}}))},handleCheckedChange:function t(e,r){if(r){r.checked=e}},fontSetHandle:function t(e){this.fontConfig.forEach((function(t){t.checked=e.id===t.id}))},handleFilterConfirm:function t(){var e=this;Object.keys(this.filter).forEach((function(t){e.filter[t].mockChecked=e.filter[t].checked}));var r=Object.keys(this.filter).reduce((function(t,r){t[r]=!!e.filter[r].mockChecked;return t}),{});this.setFont(this.fontConfig);var n=this.fontConfig.find((function(t){return t.checked}));this.handleSetStorage(r,n?n.id:"");this.$emit("update",this.filter);this.$refs.popover&&this.$refs.popover.instance.hide()},handleFilterCancel:function t(){this.$emit("cancel",this.filter);this.$refs.popover&&this.$refs.popover.instance.hide()},handleSetStorage:function t(e,r){try{window.localStorage.setItem(this.localMark+s.STORAGE_KEY_COL,JSON.stringify(e));window.localStorage.setItem(s.STORAGE_KEY_FONT,r)}catch(t){this.$bkMessage({theme:"error",message:this.$t("浏览器不支持本地存储")})}},handleOnHide:function t(){var e=this;window.setTimeout((function(){e.filter=JSON.parse(JSON.stringify(e.value));e.fontConfig=JSON.parse(JSON.stringify(e.fontList))}),500)},togglePopover:function t(e){if(this.$refs.popover){if(e){this.$refs.popover.instance.show()}else{this.handleFilterCancel()}}}})};e.default=c},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(291);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n=r(13);var i={name:"column-check",props:{value:{type:Boolean,default:false},indeterminate:{type:Boolean,default:false},isAllChecked:{type:Boolean,default:false},disabled:{type:Boolean,default:false},loading:{type:Boolean,default:false},action:{type:String,default:""},checkAllPermission:{type:Boolean,default:true}},data:function t(){return{checkValue:this.value,checkType:{active:"current",list:[{id:"current",name:this.$t("本页全选")},{id:"all",name:this.$t("跨页全选")}]},isDropDownShow:false}},computed:{halfCheck:function t(){return this.indeterminate&&!this.isAllChecked}},watch:{isAllChecked:function t(e){this.checkValue=e}},mounted:function t(){var e=this;n.bus.$on("checked-all-agent",(function(){e.handleCheckAll("all")}));n.bus.$on("unchecked-all-agent",(function(){e.handleCheckChange(false)}))},methods:{handleCheckAll:function t(e){this.$refs.popover&&this.$refs.popover.instance.hide();this.checkType.active=e;this.$emit("change",true,e)},handleCheckChange:function t(e){this.checkValue=e;if(!e){this.checkType.active="current"}this.$emit("change",this.checkValue,this.checkType.active)},handleOnShow:function t(){this.isDropDownShow=true},handleOnHide:function t(){this.isDropDownShow=false}}};e.default=i},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(294);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n=r(10);var i={name:"filter-header",props:{name:{type:String,default:"筛选"},filterList:{type:Array,default:function t(){return[]}},property:{type:String,default:""},checkAll:{type:Boolean,default:false},showSearch:{type:Boolean,default:false},width:{type:[Number,String],default:"auto"},align:{type:String,default:"center",validator:function t(e){return["left","right","center"].includes(e)}}},data:function t(){return{instance:null,list:JSON.parse(JSON.stringify(this.filterList)),selectIds:[],searchValue:"",isCheckAll:false}},computed:{isSelected:function t(){return this.list.some((function(t){return t.checked}))},footerAlign:function t(){switch(this.align){case"center":return"space-between";case"left":return"flex-start";case"right":return"flex-end";default:return"space-between"}},currentList:function t(){var e=this;return(0,n.isEmpty)(this.searchValue)?this.list:this.list.filter((function(t){return t.name&&~t.name.toString().toLocaleLowerCase().indexOf(e.searchValue.toLocaleLowerCase())}))},isCheckAllCompted:function t(){return!this.checkAll||this.currentList.every((function(t){return t.checked}))}},watch:{filterList:{deep:true,handler:function t(e){this.list=JSON.parse(JSON.stringify(e));this.selectIds=this.list.filter((function(t){return t.checked})).map((function(t){return t.id}))}}},beforeDestroy:function t(){this.instance&&this.instance.destroy();this.instance=null},methods:{handleShow:function t(e){var r=this;if(!this.filterList.length)return;if(!this.instance){this.instance=this.$bkPopover(e.target,{content:this.$refs.labelMenu,trigger:"click",arrow:false,placement:"bottom",theme:"light filter-header",maxWidth:520,offset:"0, 0",sticky:true,duration:[275,0],interactive:true,onHidden:function t(){r.list.forEach((function(t){t.checked=r.selectIds.includes(t.id)}));r.instance&&r.instance.destroy();r.instance=null}})}this.instance&&this.instance.show(100)},handleSelectLabel:function t(e){e.checked=!e.checked},handleConfirm:function t(){this.selectIds=this.list.filter((function(t){return t.checked})).map((function(t){return t.id}));if(this.selectIds.length){this.$emit("confirm",this.property,this.list)}else{this.$emit("reset",this.property)}this.instance&&this.instance.hide(100)},handleResetSelected:function t(){this.selectIds=[];this.list.forEach((function(t){t.checked=false}));this.instance&&this.instance.hide(100);this.$emit("reset",this.property)},handleSelectAll:function t(){this.isCheckAll=this.isCheckAllCompted?false:!this.isCheckAll;if(this.isCheckAll){var e=this.currentList.map((function(t){return t.id}));this.list.forEach((function(t){t.checked=e.includes(t.id)}))}else{this.list.forEach((function(t){t.checked=false}))}}}};e.default=i},function(t,e,r){},,,,,,,function(t,e,r){"use strict";r.r(e);var n=r(303);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n={name:"tips",props:{list:{type:[Array,String],default:function t(){return["提示1","提示2"]}},showClose:{type:Boolean,default:false},expire:{type:Number,default:36e5*24*30},storageKey:{type:String,default:"__nodeman_tips__"}},data:function t(){return{showTips:true}},created:function t(){this.handleInit()},methods:{handleInit:function t(){if(window.localStorage&&this.showClose){var e=window.localStorage.getItem(this.storageKey);this.showTips=(new Date).getTime()>e}},handleHide:function t(){if(window.localStorage){var e=(new Date).getTime()+this.expire;window.localStorage.setItem(this.storageKey,e);this.showTips=false}}}};e.default=n},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(578);var i=r(306);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(468);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"72a5503a",null);e["default"]=l.exports},function(t,e,r){"use strict";r.r(e);var n=r(307);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(440));var a={name:"panel-tips",components:{StrategyTemplate:i.default},model:{prop:"show",event:"update"},props:{title:{type:String,default:window.i18n.t("安装策略")},show:{type:Boolean,default:false},hostType:{type:String,default:"Agent"},hostList:{type:Array,default:function t(){return[]}}},methods:{handleToggleTips:function t(){this.$emit("update",false)}}};e.default=a},function(t,e,r){"use strict";r.r(e);var n=r(309);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(8));var a=n(r(5));var o=n(r(6));var s=n(r(17));var l=n(r(441));var u=n(r(465));var c=r(10);var f=r(9);function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,n)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){d(Object(r),true).forEach((function(e){(0,s.default)(t,e,r[e])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}}return t}var h={name:"StrategyTemplate",components:{StrategyTable:u.default,RightPanel:l.default},props:{hostType:{type:String,default:"Agent"},hostList:{type:Array,default:function t(){return[]}}},data:function t(){return{loading:true,cloudAreaList:[]}},computed:p(p({},(0,f.mapGetters)("agent",["apList","cloudList"])),{},{tipList:function t(){if(this.hostType==="Proxy"){return[this.$t("Agent安装Tip1"),this.$t("Agent安装Tip2"),this.$t("Agent安装Tip3")]}return[this.$t("Proxy安装Tip1"),this.$t("Proxy安装Tip2")]}}),mounted:function t(){var e=this;return(0,o.default)(a.default.mark((function t(){return a.default.wrap((function t(r){while(1){switch(r.prev=r.next){case 0:if(e.apList.length){r.next=3;break}r.next=3;return e.getApList();case 3:if(!e.cloudList.length){e.getCloudList()}e.formatData();case 5:case"end":return r.stop()}}}),t)})))()},methods:p(p({},(0,f.mapActions)("agent",["getApList","getCloudList"])),{},{formatData:function t(){var e=this;var r=this.hostList.reduce((function(t,r){var n=r.bk_cloud_id;var a=e.cloudList.find((function(t){return t.bk_cloud_id===r.bk_cloud_id}));var o=(a?a.proxy_count:false)?a.proxies:[];var s="";if(e.hostType==="Proxy"){s="Proxy"}else{s=r.bk_cloud_id===window.PROJECT_CONFIG.DEFAULT_CLOUD?"Agent":"Pagent"}if(!(0,c.isEmpty)(n)&&r.inner_ip&&r.bk_cloud_name){var l=(0,i.default)({type:s,proxy:o},r);if(Object.prototype.hasOwnProperty.call(t,n)){t[n].push(l)}else{t[n]=[l]}}return t}),{});var n=true;this.cloudAreaList=Object.values(r).reduce((function(t,r){var i={};r.forEach((function(t){var r=t.ap_id;var a=e.apList.find((function(t){return t.id===r}));if(a){if(a.id===-1&&e.apList.length===2){a=e.apList.find((function(t){return t.id!==-1}));r=a.id}if(Object.prototype.hasOwnProperty.call(i,r)){i[r].agent.push(t.inner_ip)}else{var o=t.type==="Agent"?"inner_ip":"outer_ip";var s=t.type==="Proxy"?"outer_ip":"inner_ip";i[r]={collapse:n||false,type:t.type,bk_cloud_id:t.bk_cloud_id,bk_cloud_name:t.bk_cloud_name,ap_id:r,ap_name:a.name,zk:a.zk_hosts.map((function(t){return t.zk_ip})),btfileserver:a.btfileserver.map((function(t){return t[o]})),dataserver:a.dataserver.map((function(t){return t[o]})),taskserver:a.taskserver.map((function(t){return t[o]})),proxy:t.proxy.map((function(t){return t[s]})),agent:[t.inner_ip]}}n=false}}));Object.values(i).reduce((function(t,e){t.push(e);return t}),t);return t}),[])},handleToggle:function t(e,r){this.cloudAreaList.forEach((function(t){t.collapse=t.bk_cloud_name===r?e:false}))}})};e.default=h},function(t,e,r){"use strict";r.r(e);var n=r(311);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n={name:"right-panel",model:{prop:"collapse",event:"change"},props:{collapse:Boolean,alignCenter:{type:Boolean,default:true},title:{type:Object,default:function t(){return{num:0,type:"主机"}}},collapseColor:{type:String,default:"#63656E"},titleBgColor:{type:String,default:"#FAFBFD"},type:String,needBorder:Boolean,iconStyle:[String,Object]},data:function t(){return{isEndCollapse:this.collapse}},methods:{beforeEnter:function t(e){e.classList.add("collapse-transition");e.style.height="0"},enter:function t(e){var r=this;e.dataset.oldOverflow=e.style.overflow;if(e.scrollHeight!==0){e.style.height="".concat(e.scrollHeight,"px")}else{e.style.height=""}this.$nextTick().then((function(){r.isEndCollapse=r.collapse}));e.style.overflow="hidden";setTimeout((function(){e.style.height="";e.style.overflow=e.dataset.oldOverflow}),300)},afterEnter:function t(e){e.classList.remove("collapse-transition")},beforeLeave:function t(e){e.dataset.oldOverflow=e.style.overflow;e.style.height="".concat(e.scrollHeight,"px");e.style.overflow="hidden"},leave:function t(e){var r=this;if(e.scrollHeight!==0){e.classList.add("collapse-transition");e.style.height=0}setTimeout((function(){r.isEndCollapse=r.collapse}),300)},afterLeave:function t(e){e.classList.remove("collapse-transition");setTimeout((function(){e.style.height="";e.style.overflow=e.dataset.oldOverflow}),300)},handleTitleClick:function t(){this.$emit("update:collapse",!this.collapse);this.$emit("change",!this.collapse,this.type)}}};e.default=n},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(314);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(8));var a=r(10);var o={name:"StrategyTable",props:{hostType:{type:String,default:"Agent"},area:{type:Object,default:function t(){return{dataserver:[],taskserver:[],btfileserver:[],proxy:[],zk:[],agent:[]}}}},data:function t(){return{sourceMap:["Agent","GSE_btsvr"],table:{Agent:[{source:"Agent",targetAdress:this.$t("节点管理后台"),protocol:"TCP",port:"80,443",use:this.$t("TCP上报日志获取配置"),remarks:"",sourceRe:true,sourceKey:"agent"},{source:"Agent",targetAdress:"zk",protocol:"TCP",port:"2181",use:this.$t("获取配置"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"zk"},{source:"Agent",targetAdress:"GSE_task",protocol:"TCP",port:"48668",use:this.$t("任务服务端口"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"taskserver"},{source:"Agent",targetAdress:"GSE_data",protocol:"TCP",port:"58625",use:this.$t("数据上报端口"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"dataserver"},{source:"Agent",targetAdress:"GSE_btsvr",protocol:"TCP",port:"58925",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"btfileserver"},{source:"Agent",targetAdress:"GSE_btsvr",protocol:"TCP,UDP",port:"10020",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"btfileserver"},{source:"Agent",targetAdress:"GSE_btsvr",protocol:"UDP",port:"10030",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"btfileserver"},{source:"GSE_btsvr",targetAdress:"Agent",protocol:"TCP,UDP",port:"60020-60030",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"btfileserver",targetKey:"agent"},{source:"GSE_btsvr",targetAdress:"GSE_btsvr",protocol:"TCP",port:"58930",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"btfileserver",targetKey:"btfileserver"},{source:"GSE_btsvr",targetAdress:"GSE_btsvr",protocol:"TCP,UDP",port:"10020",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"btfileserver",targetKey:"btfileserver"},{source:"GSE_btsvr",targetAdress:"GSE_btsvr",protocol:"UDP",port:"10030",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"btfileserver",targetKey:"btfileserver"},{source:"Agent",targetAdress:"Agent",protocol:"TCP,UDP",port:"60020-60030",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"agent"},{source:"Agent",targetAdress:"",protocol:"",port:this.$t("监听随机端口"),use:this.$t("BT传输可不开通"),remarks:"",sourceRe:true,sourceKey:"agent"},{source:"GSE_btsvr",targetAdress:"",protocol:"",port:this.$t("监听随机端口"),use:this.$t("BT传输可不开通"),remarks:"",sourceRe:true,sourceKey:"btfileserver"}],Pagent:[{source:"Agent",targetAdress:"Proxy",protocol:"TCP",port:"17980,17981",use:this.$t("nginx下载nginx代理"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"proxy"},{source:"Agent",targetAdress:"Proxy(GSE_agent)",protocol:"TCP",port:"48668",use:this.$t("任务服务端口"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"proxy"},{source:"Agent",targetAdress:"Proxy(GSE_transit)",protocol:"TCP",port:"58625",use:this.$t("数据上报端口"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"proxy"},{source:"Agent",targetAdress:"Proxy(GSE_btsvr)",protocol:"TCP",port:"58925",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"proxy"},{source:"Agent",targetAdress:"Proxy(GSE_btsvr)",protocol:"TCP,UDP",port:"10020",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"proxy"},{source:"Agent",targetAdress:"Proxy(GSE_btsvr)",protocol:"UDP",port:"10030",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"proxy"},{source:"Proxy(GSE_btsvr)",targetAdress:"Agent",protocol:"TCP,UDP",port:"60020-60030",use:this.$t("BT传输"),remarks:"",sourceKey:"proxy",targetKey:"agent"},{source:"Agent",targetAdress:"Agent",protocol:"TCP,UDP",port:"60020-60030",use:this.$t("BT传输"),remarks:this.$t("同一子网"),sourceRe:true,targetRe:true,sourceKey:"agent",targetKey:"agent"},{source:"Agent",targetAdress:"",protocol:"",port:this.$t("监听随机端口"),use:this.$t("BT传输可不开通"),remarks:"",sourceRe:true,sourceKey:"agent"}],Proxy:[{source:"Proxy(GSE_agent)",targetAdress:"GSE_task",protocol:"TCP",port:"48668",use:this.$t("任务服务端口"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"proxy",targetKey:"taskserver"},{source:"Proxy(GSE_transit)",targetAdress:"GSE_data",protocol:"TCP",port:"58625",use:this.$t("数据上报端口"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"proxy",targetKey:"dataserver"},{source:"Proxy(GSE_btsvr)",targetAdress:"GSE_btsvr",protocol:"TCP",port:"58930",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"proxy",targetKey:"btfileserver"},{source:"Proxy(GSE_btsvr)",targetAdress:"GSE_btsvr",protocol:"TCP,UDP",port:"10020",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"proxy",targetKey:"btfileserver"},{source:"Proxy(GSE_btsvr)",targetAdress:"GSE_btsvr",protocol:"UDP",port:"10030",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"proxy",targetKey:"btfileserver"},{source:"GSE_btsvr",targetAdress:"Proxy(GSE_btsvr)",protocol:"TCP",port:"58930",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"btfileserver",targetKey:"proxy"},{source:"GSE_btsvr",targetAdress:"Proxy(GSE_btsvr)",protocol:"TCP,UDP",port:"10020",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"btfileserver",targetKey:"proxy"},{source:"GSE_btsvr",targetAdress:"Proxy(GSE_btsvr)",protocol:"UDP",port:"10030",use:this.$t("BT传输"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"btfileserver",targetKey:"proxy"},{source:"Proxy(GSE_btsvr)",targetAdress:"Proxy(GSE_btsvr)",protocol:"TCP",port:"58930",use:this.$t("BT传输"),remarks:this.$t("同一子网"),sourceRe:true,targetRe:true,sourceKey:"proxy",targetKey:"proxy"},{source:"Proxy(GSE_btsvr)",targetAdress:"Proxy(GSE_btsvr)",protocol:"TCP,UDP",port:"10020",use:this.$t("BT传输"),remarks:this.$t("同一子网"),sourceRe:true,targetRe:true,sourceKey:"proxy",targetKey:"proxy"},{source:"Proxy(GSE_btsvr)",targetAdress:"Proxy(GSE_btsvr)",protocol:"UDP",port:"10030",use:this.$t("BT传输"),remarks:this.$t("同一子网"),sourceRe:true,targetRe:true,sourceKey:"proxy",targetKey:"proxy"},{source:"Proxy(GSE_opts)",targetAdress:"GSE_ops",protocol:"TCP",port:"58725",use:this.$t("ping告警数据上报端口"),remarks:"",sourceRe:true,targetRe:true,sourceKey:"proxy",targetKey:"dataserver"},{source:"Proxy(GSE_agent)",targetAdress:"",protocol:"",port:this.$t("监听随机端口"),use:this.$t("BT传输可不开通"),remarks:"",sourceRe:true,sourceKey:"proxy"},{source:"Proxy(GSE_btsvr)",targetAdress:"",protocol:"",port:this.$t("监听随机端口"),use:this.$t("BT传输可不开通"),remarks:"",sourceRe:true,sourceKey:"proxy"}]}}},computed:{guideTable:function t(){return this.table[this.hostType]},detail:function t(){return{agent:this.area.agent.length,zk:this.area.zk.length,dataserver:this.area.dataserver.length,taskserver:this.area.taskserver.length,btfileserver:this.area.btfileserver.length,proxy:this.area.proxy.length}},notAvailableProxy:function t(){return this.hostType==="Pagent"&&(this.area.bk_cloud_id||this.area.bk_cloud_id===0)&&!this.detail.proxy}},methods:{getFontHtml:function t(e){return'<font color="3A84FF">'.concat(e,"</font>")},handleCopy:function t(e){if(this.detail[e]){var r={theme:"error",message:this.$t("IP复制失败")};var n=(0,a.copyText)(this.area[e].join("\n"));if(n){(0,i.default)(r,{theme:"success",message:this.$t("IP复制成功",{num:this.detail[e]})})}this.$bkMessage(r)}},handleGotoProxy:function t(){if(this.area.bk_cloud_id||this.area.bk_cloud_id===0){this.$router.push({name:"setupCloudManager",params:{type:"create",title:this.$t("安装Proxy"),id:this.area.bk_cloud_id}})}}}};e.default=o},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(566);var i=r(319);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(480);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"22439b80",null);e["default"]=l.exports},function(t,e,r){"use strict";r.r(e);var n=r(320);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(274));var a=n(r(8));var o=n(r(275));var s=n(r(17));var l=r(13);var u=n(r(276));var c=n(r(442));var f=n(r(324));var d=r(10);var p=r(9);var h=n(r(478));var v=r(67);function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,n)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){y(Object(r),true).forEach((function(e){(0,s.default)(t,e,r[e])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}}return t}var m={name:"setup-table",components:{ColumnSetting:u.default,VerifyInput:c.default,InputType:f.default,TableHeader:h.default},props:{setupInfo:{type:Object,default:function t(){return{header:[],data:[]}},validator:function t(e){return e&&Array.isArray(e.header)}},autoSort:{type:Boolean,default:false},minItems:{type:Number,default:1},height:{type:String,default:"auto"},virtualScroll:{type:Boolean,default:false},needPlus:{type:Boolean,default:true},extraParams:{type:Array,default:function t(){return[]}},isManual:{type:Boolean,default:false},localMark:{type:String,default:""}},data:function t(){return{table:{},tableHead:[],filter:{},startIndex:0,endIndex:0,itemHeight:44,id:0,handleScroll:null,editData:[]}},computed:g(g(g({},(0,p.mapGetters)(["bkBizList"])),(0,p.mapGetters)("agent",["cloudList","apList"])),{},{ghostStyle:function t(){var e=this.table.data?this.table.data.length:0;return{height:"".concat(e*this.itemHeight,"px")}},renderData:function t(){if(this.table.data&&this.virtualScroll){this.editData=[];return this.table.data.slice(this.startIndex,this.endIndex)}return this.table.data||[]},disableDelete:function t(){return this.table.data.length<=this.minItems}}),created:function t(){this.handleInit()},mounted:function t(){this.handleScroll()},methods:g(g({},(0,p.mapActions)("agent",["fetchPwd"])),{},{handleInit:function t(){var e=this;this.handleScroll=(0,d.throttle)(this.rootScroll,0);var r={config:this.setupInfo.header,data:this.setupInfo.data||[]};if(r.data.length<this.minItems){var n;var i=this.minItems-r.data.length;(n=r.data).push.apply(n,(0,o.default)(Array.from(new Array(i))))}r.data=r.data.map((function(t){var n=t||{};e.id+=1;n.id=e.id;r.config.forEach((function(t){if(t.prop){e.addPropToData(n,t)}}));return(0,a.default)({},n)}));this.$set(this,"table",r);this.table.config.forEach((function(t){e.handleBindRules(t)}));if(this.localMark){this.initCustomColStatus()}else{this.tableHead=this.table.config}},handleBindRules:function t(e){var r=this;if(e.rules){e.rules.forEach((function(t){if(typeof t.validator==="function"){t.validator.bind=function(t){var e=this;var r=function t(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++){n[i]=arguments[i]}return e.call.apply(e,[e.prototype.context].concat(n))};if(!e.prototype.context){r.prototype.context=t;e.prototype=r.prototype}else{e.prototype.context=t;r.prototype=e.prototype}return r};t.validator=t.validator.bind(r)}}))}},addPropToData:function t(e,r){if(typeof r.getDefaultValue==="function"){e[r.prop]=r.getDefaultValue(e)}else{e[r.prop]=(0,d.isEmpty)(e[r.prop])&&r.default?r.default:e[r.prop]}e.validator={}},getCellInputOptions:function t(e,r){if(r.prop==="bk_biz_id"){return this.bkBizList.map((function(t){return{id:t.bk_biz_id,name:t.bk_biz_name}}))}if(r.type==="select"){return r.getOptions?r.getOptions.call(this,e):r.options}return[]},getDisabledType:function t(e,r){var n=r.type;if(r.getCurrentType){n=r.getCurrentType.call(this,e)}return!["switcher","file"].includes(n)},getCellInputType:function t(e,r){if(r.getCurrentType){return r.getCurrentType.call(this,e)}return r.type},getCellDisabled:function t(e,r){if(r.getReadonly){return!!r.getReadonly.call(this,e)}return!!r.readonly},getCellFileInfo:function t(e,r){if(e.fileInfo&&e[r.prop]){return e.fileInfo}return null},handleCellValueChange:function t(e,r){if(r.handleValueChange){r.handleValueChange.call(this,e)}this.$emit("change",e,r)},handleCellUploadChange:function t(e,r){if(e){r.fileInfo=!(0,d.isEmpty)(e.value)?e:null}},getCurrentPorxyStatus:function t(e,r){if(r.getProxyStatus){return r.getProxyStatus.call(this,e)}return""},rootScroll:function t(){if(!this.virtualScroll)return;if(this.table.data&&this.table.data.length){this.updateRenderData(this.$refs.tableBody.scrollTop)}},updateRenderData:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=Math.ceil((this.$refs.tableBody.clientHeight+16)/this.itemHeight);var n=Math.floor(e/this.itemHeight);var i=n+r;this.startIndex=n;this.endIndex=i;this.$refs.content.style.transform="translate3d(0, ".concat(n*this.itemHeight,"px, 0)")},handleAddItem:function t(e){var r=this;var n=this.table.data.findIndex((function(t){return t.id===e}))||0;var i={};this.id+=1;i.id=this.id;this.table.config.forEach((function(t){if(t.prop){r.addPropToData(i,t)}}));this.table.data.splice(n+1,0,i);this.$emit("add")},handleDeleteItem:function t(e){if(this.disableDelete)return;var r=this.table.data.findIndex((function(t){return t.id===e}));if(r!==-1){this.table.data.splice(r,1)}this.$emit("delete",r)},handleValidateUnique:function t(e,r){var n=this;if(!e||!r)return;var i=e.id;var a=r.prop;var o=r.splitCode;var s=e[r.prop]||"";if(o&&o.length){var l=this.getSplitCode(o,s);s=this.handleTrimArray(s.split(l))}var u=this.table.data.some((function(t){if(t.id===i)return false;var e=!(0,d.isEmpty)(t[a])?t[a].trim():"";if(o&&o.length){var r=n.getSplitCode(o,e);e=n.handleTrimArray(e.split(r))}return Array.isArray(s)&&Array.isArray(e)?s.some((function(t){return e.includes(t)})):s===e}));return!u},handleValidateEqual:function t(e,r){if(!e||!r)return;var n=r.prop,i=r.reprop,a=r.splitCode;var o=e[n]||"";var s=e[i]||"";if(!o&&s)return;if(a?a.length:false){var l=this.getSplitCode(a,o);var u=this.getSplitCode(a,s);o=this.handleTrimArray(o.split(l));s=this.handleTrimArray(s.split(u))}return o.length===s.length},handleTrimArray:function t(e){if(!e||!e.length)return;return e.filter((function(t){return!!t})).map((function(t){return t.trim()}))},getSplitCode:function t(e,r){return e.find((function(t){return r.indexOf(t)>0}))},handleValidateValue:function t(e,r){var n={show:false,content:"",type:""};if(!e||!r)return n;var i=e[r.prop];if(!r.required&&r.prop==="prove"){if(!e.is_manual&&(0,d.isEmpty)(i)&&e.re_certification){n.show=true;n.content=this.$t("认证信息过期")}return n}if(r.required&&(0,d.isEmpty)(i)){n.show=true;n.content=this.$t("必填项");return n}r.rules&&r.rules.some((function(t){if(t.regx&&!(0,d.isEmpty)(i)){n.show=!new RegExp(t.regx).test(i);n.content=t.content}else if(typeof t.validator==="function"&&t.trigger!=="blur"){var e=t.validator(i);n.show=!e;n.content=t.content||""}return n.show}));if(n.show)return n;if(r.unique&&!(0,d.isEmpty)(i)){var a=this.handleValidateUnique(e,r);n.type=r.prop==="inner_ip"&&!a?"unique":"";n.show=!a;n.content=this.$t("冲突校验",{prop:"IP"})}return n},validate:function t(){var e=this;var r={};var n=this.table.data.map((function(t,n){t.isRowValidate=e.table.config.map((function(i){if(!i.prop)return true;var a=t[i.prop];var o=e.handleValidateValue(t,i);if(i.unique&&i.prop==="inner_ip"){t.errType=o.type}if(!o.show&&i.union&&!(0,d.isEmpty)(t[i.union])){r[i.prop]=r[i.prop]?r[i.prop]:[];var s=a+t[i.union];o.show=r[i.prop].includes(s);o.content=e.$t("冲突校验",{prop:i.label});r[i.prop].push(s)}e.$set(e.table.data[n].validator,i.prop,o);return!o.show})).every((function(t){return!!t}));return t.isRowValidate})).every((function(t){return!!t}));this.autoSort&&this.sortTableData();this.$nextTick().then((function(){e.$refs.verify.map((function(t){return t.handleUpdateDefaultValidator()}))}));return n},sortTableData:function t(){var e,r=this;var n=[];var i=[];this.table.data.forEach((function(t){if(t.errType==="unique"){i.push(t)}else{n.push(t)}}));var a=i.map((function(t,e){var r=["\n","，"," ","、",","].find((function(e){return t.inner_ip.indexOf(e)>0}));return{ipArr:r?t.inner_ip.split(r):[t.inner_ip],inner_ip:t.inner_ip,id:e}}));a.sort((function(t,e){return t.ipArr.length-e.ipArr.length}));var s=[];var l=[];if(a.length&&a[0].ipArr.length<2){a.forEach((function(t,e){if(!e||!l.includes(t.id)){s.push(i[t.id]);l.push(t.id);a.slice(e,a.length).forEach((function(e){if(e.ipArr.find((function(e){return t.inner_ip.includes(e)}))&&!l.includes(e.id)){s.push(i[e.id]);l.push(e.id)}}))}}))}else{s=[].concat(i)}n.sort((function(t,e){if(t.proxyStatus||e.proxyStatus){return Number(Boolean(e.proxyStatus))-Number(Boolean(t.proxyStatus))}return Number(Boolean(t.isRowValidate))-Number(Boolean(e.isRowValidate))}));(e=this.table.data).splice.apply(e,[0,this.table.data.length].concat((0,o.default)(s.concat(n))));this.$nextTick().then((function(){r.$refs.tableBody&&r.$refs.tableBody.scrollTo(0,0)}))},getTableData:function t(){return this.table.data},getData:function t(){var e=this;var r=this.getTableData().map((function(t){var r=[];var n={};var i={length:0,values:[],prop:""};var l=[];e.table.config.filter((function(t){return t.prop&&t.prop!=="prove"})).forEach((function(r){if(r.splitCode&&r.splitCode.length&&t[r.prop]){var a=r.splitCode.find((function(e){return t[r.prop].indexOf(e)>0}));var s=e.handleTrimArray(t[r.prop].split(a));if(r.prop==="login_ip"){l.splice.apply(l,[0,0].concat((0,o.default)(s)))}else{i.values=s;i.length=i.values.length;i.prop=r.prop}}n[r.prop]=t[r.prop];if(r.prop==="auth_type"){var u=t[r.prop];n[u.toLowerCase()]=t.prove}}));e.extraParams.forEach((function(e){if(!(0,d.isEmpty)(t[e])){n[e]=t[e]}}));if(i.length&&i.prop){var u=i.length===l.length;i.values.forEach((function(t,e){var o=(0,s.default)({},i.prop,t);if(u){o.login_ip=l[e]}var c=JSON.parse(JSON.stringify((0,a.default)(n,o)));r.push(c)}))}else{r.push(n)}return r}));console.log(r.flat());return r.flat()},handleBatchConfirm:function t(e,r){var n=this;if(!e||!e.length)return;var a=(0,i.default)(e,2),o=a[0],s=a[1];if((0,d.isEmpty)(o)&&((0,d.isEmpty)(s)||!s.value))return;this.table.data.forEach((function(t,e){var i=r.getReadonly&&r.getReadonly(t)||r.readonly;var a=r.getCurrentType&&r.getCurrentType(t)==="file";var l=r.prop==="auth_type"&&o==="KEY"&&t.os_type==="WINDOWS";if(i||l)return;if(s&&a){n.$set(n.table.data[e],r.prop,s.value);n.$set(n.table.data[e],"fileInfo",s)}else if(!(0,d.isEmpty)(o)){n.$set(n.table.data[e],r.prop,o)}if(typeof r.handleValueChange==="function"){r.handleValueChange.call(n,t)}}));this.$forceUpdate();this.$nextTick((function(){n.$refs.verify.forEach((function(t){if(t&&t.$attrs.prop===r.prop){t.handleValidate()}}))}))},getDefaultValidator:function t(e,r){return{show:e.validator[r.prop]?e.validator[r.prop].show:false,content:e.validator[r.prop]?e.validator[r.prop].content:"",errTag:r.errTag}},handleUpdateData:function t(e){this.$set(this.table,"data",e)},handleGotoProxy:function t(e){var r=null;switch(e.proxyStatus){case"no_proxy":r=this.$router.resolve({name:"setupCloudManager",params:{type:"create",title:this.$t("安装Proxy"),id:e.bk_cloud_id}});window.open(r.href,"_blank");break;case"overdue":r=this.$router.resolve({name:"cloudManagerDetail",params:{id:e.bk_cloud_id}});window.open(r.href,"_blank");break}},initCustomColStatus:function t(){var e=this;var r=this.table.config.reduce((function(t,r){if(r.type!=="operate"){t[r.prop]={checked:r.required||r.show||false,disabled:r.required||r.show||false,mockChecked:r.required||r.show||false,name:e.$t(r.label),id:r.prop}}return t}),{});this.$set(this,"filter",r);var n=this.handleGetStorage();if(n&&Object.keys(n).length){Object.keys(this.filter).forEach((function(t){if(Object.prototype.hasOwnProperty.call(n,t)){e.filter[t].mockChecked=!!n[t];e.filter[t].checked=!!n[t]}}))}this.tableHead=this.table.config.filter((function(t){return t.type==="operate"||e.filter[t.prop].mockChecked}))},handleColumnUpdate:function t(e){var r=this;this.filter=e;this.tableHead=this.table.config.filter((function(t){return t.type==="operate"||r.filter[t.prop].mockChecked}));this.$forceUpdate()},handleGetStorage:function t(){var e={};try{e=JSON.parse(window.localStorage.getItem(this.localMark+v.STORAGE_KEY_COL))}catch(t){e={}}return e},handleToggleSetting:function t(e){l.bus.$emit("toggleSetting",e)},handleShowEdit:function t(e,r){if(this.getCellDisabled(e,r))return;this.editData.push({id:e.id,prop:r.prop})},editStatus:function t(e,r){return!!this.editData.find((function(t){return t.id===e.id&&t.prop===r.prop}))},getDisplayName:function t(e,r){var n=this.getCellInputOptions(e,r);var i=n.find((function(t){return t.id===e[r.prop]}));return i?i.name:e[r.prop]},hidePassword:function t(e,r){var n="".concat(e[r.prop]).length;return new Array(n).fill("*").join("")}})};e.default=m},function(t,e,r){"use strict";r.r(e);var n=r(322);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(5));var a=n(r(6));var o=r(10);var s=n(r(472));var l={name:"step-verify-input",props:{id:{type:[Number,String],default:0},defaultValidator:{type:Object,default:function t(){return{show:false,content:"",errTag:false}}},position:{type:String,default:"bottom"},required:{type:Boolean,default:true},rules:{type:Array,default:function t(){return[]}},proxyStatus:{type:String,default:""},iconOffset:{type:[String,Number],default:""}},data:function t(){return{validator:this.defaultValidator,inputInstance:null}},computed:{iconOffsetStyle:function t(){return this.iconOffset?{right:"".concat(this.iconOffset,"px")}:{}}},created:function t(){this.$on("verify-registry",this.handleRegistry);this.$on("verify-remove",this.removeRegistry)},mounted:function t(){this.$off("verify-blur",this.validate);this.$off("verify-focus",this.handleFocus);this.$on("verify-blur",this.validate);this.$on("verify-focus",this.handleFocus)},beforeDestroy:function t(){this.inputInstance=null},methods:{handleFocus:function t(){this.validator.content="";this.validator.show=false},handleRegistry:function t(e){this.inputInstance=e},removeRegistry:function t(){this.inputInstance=null},handleValidate:function t(e){if(!this.inputInstance)return false;this.validate(this.inputInstance.inputValue,e)},validate:function t(e,r){var n=this;this.validator.show=false;this.validator.content="";if(this.required&&(0,o.isEmpty)(e)){this.validator.show=true;this.validator.content=this.$t("必填项");if(typeof r==="function"){r(this.validator)}return false}var l=[];this.rules&&this.rules.forEach((function(t){l.push((function(){return new Promise(function(){var r=(0,a.default)(i.default.mark((function r(a,o){var s;return i.default.wrap((function r(i){while(1){switch(i.prev=i.next){case 0:i.next=2;return n.checkRule(t,e);case 2:s=i.sent;if(s){a(t)}else{o(t)}case 4:case"end":return i.stop()}}}),r)})));return function(t,e){return r.apply(this,arguments)}}())}))}));(0,s.default)(l).then((function(){n.validator.show=false;n.validator.content="";if(typeof r==="function"){r(n.validator)}})).catch((function(t){n.validator.show=true;n.validator.content=t.content?t.content:"";if(typeof r==="function"){r(n.validator)}}))},checkRule:function t(e,r){var n=this;return(0,a.default)(i.default.mark((function t(){var a;return i.default.wrap((function t(i){while(1){switch(i.prev=i.next){case 0:if(!(e.regx&&!(0,o.isEmpty)(r))){i.next=2;break}return i.abrupt("return",new RegExp(e.regx).test(r));case 2:if(!(e.validator&&typeof e.validator==="function")){i.next=7;break}i.next=5;return e.validator(r,n.id);case 5:a=i.sent;return i.abrupt("return",a);case 7:return i.abrupt("return",true);case 8:case"end":return i.stop()}}}),t)})))()},handleUpdateDefaultValidator:function t(){this.validator=JSON.parse(JSON.stringify(this.defaultValidator))},handleClick:function t(){this.$emit("jump-proxy")}}};e.default=l},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(589);var i=r(325);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(477);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"4c5929eb",null);e["default"]=l.exports},function(t,e,r){"use strict";r.r(e);var n=r(326);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(17));var a=n(r(443));var o=n(r(444));var s=r(273);var l=r(10);var u=n(r(476));function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,n)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){c(Object(r),true).forEach((function(e){(0,i.default)(t,e,r[e])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}}return t}var d="blur";var p="update";var h="change";var v="toggle";var y="enter";var g="upload-change";var m=["text","number","email","url","date"];var _={name:"input-type",components:{Upload:a.default,PermissionSelect:o.default},mixins:[u.default],model:{prop:"inputValue",event:"update"},props:{inputValue:{type:[String,Array,Number]},type:{type:String,default:""},prop:{type:String,default:""},splitCode:{type:Array,default:function t(){return[]}},autofocus:{type:Boolean,default:false},readonly:{type:Boolean,default:false},disabled:{type:Boolean,default:false},placeholder:{type:String,default:window.i18n.t("请输入")},multiple:{type:Boolean,default:true},options:{type:Array,default:function t(){return[]}},popoverMinWidth:Number,autoRequest:{type:Boolean,default:true},subType:{type:String,default:""},appendSlot:{type:String,default:""},permission:{type:Boolean,default:false},fileInfo:{type:Object,default:function t(){return{}}}},data:function t(){return{authentication:s.authentication,authType:this.subType,isDropdownShow:false,isFocus:false,maxRows:8,rows:1}},computed:{authName:function t(){var e=this;var r=this.authentication.find((function(t){return t.id===e.authType}))||{};return r.name||""},isInput:function t(){return m.includes(this.type)},passwordType:function t(){if(!(0,l.isEmpty)(this.inputValue)){return"password"}return"text"},zIndex:function t(){return this.isFocus?99:0},currentRows:function t(){return this.isFocus?this.rows:1},valueText:function t(){if(this.rows>1&&this.inputValue){var e=this.inputValue.split("\n").map((function(t){return t.trim()})).filter((function(t){return t}));return e.join(",")}return this.inputValue},showEllipsis:function t(){if(this.type==="textarea"){return this.isFocus?false:this.rows>1}return false}},watch:{inputValue:function t(){this.$nextTick(this.setRows)}},created:function t(){this.dispatch("step-verify-input","verify-registry",this)},mounted:function t(){if(this.autofocus){if(this.isInput||this.type==="password"){this.$refs[this.type]&&this.$refs[this.type].focus()}else if(["select","biz"].includes(this.type)){this.$refs[this.type]&&this.$refs[this.type].show()}}},beforeDestroy:function t(){this.dispatch("step-verify-input","verify-remove")},methods:{handleChange:function t(e){this.$emit(p,e);this.$emit(h,e,this)},handleBlur:function t(e){this.isFocus=false;this.$emit(d,e,this);this.dispatch("step-verify-input","verify-blur",this.inputValue)},handleUploadChange:function t(e,r){this.$emit(p,e,this);this.$emit(g,f({value:e},r),this)},handleSelectChange:function t(e,r){if(!e){this.$emit(d,this.inputValue,this);this.dispatch("step-verify-input","verify-blur",this.inputValue)}this.$emit(v,e,r)},handleAuthChange:function t(e){this.authType=e.id;this.inputValue="";if(this.authType==="TJJ_PASSWORD"){this.handleBlur(this.$t("自动拉取"))}this.$refs.authType.hide()},handleDropdownShow:function t(){this.isDropdownShow=true},handleDropdownHide:function t(){this.isDropdownShow=false},handleEnter:function t(e){this.$emit(y,e,this)},handleFocus:function t(){this.isFocus=true},setRows:function t(){if(this.type!=="textarea")return;var e=this.inputValue.split("\n").length||1;this.rows=Math.min(10,e)},handleShowTextArea:function t(){this.isFocus=true;this.$refs[this.type]&&this.$refs[this.type].focus()},handleCreate:function t(){if(this.prop==="bk_cloud_id"){this.$router.push({name:"cloudManager"})}}}};e.default=_},function(t,e,r){"use strict";r.r(e);var n=r(328);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(274));var a={name:"upload",model:{prop:"value",event:"change"},props:{value:{type:String,default:""},name:{type:String,default:"file_data"},accept:{type:String,default:""},acceptTips:{type:String,default:""},action:{type:String,default:""},maxSize:{type:Number,default:500},unit:{type:String,default:"MB",validator:function t(e){return["KB","MB"].includes(e)}},headers:{type:[Array,Object]},withCredentials:{type:Boolean,default:false},onUploadError:{type:Function,default:function t(){}},onUploadSuccess:{type:Function,default:function t(){}},onUploadProgress:{type:Function,default:function t(){}},icon:{type:String,default:"bk-icon icon-plus"},fileIcon:{type:String,default:"nodeman-icon nc-key"},iconSize:{type:[Number,String],default:"22"},title:{type:String,default:window.i18n.t("上传文件")},parseText:{type:Boolean,default:false},disableHoverCls:{type:Boolean,default:false},fileInfo:{type:Object,default:function t(){return{}}}},data:function t(){return{file:{},reqsMap:{},fileIndex:1,hoverInfo:false}},computed:{maxFileSize:function t(){switch(this.unit){case"KB":return this.maxSize*Math.pow(2,10);case"MB":return this.maxSize*Math.pow(2,20);default:return this.maxSize*Math.pow(2,20)}}},watch:{fileInfo:{handler:function t(e){if(e&&Object.keys(e).length){this.file=JSON.parse(JSON.stringify(this.fileInfo))}},immediate:true}},methods:{handleChange:function t(e){var r=e.target.files;var n=Array.from(r),a=(0,i.default)(n,1),o=a[0];if(this.validateFile(o)){this.file={};this.parseText?this.handleParseText(o):this.handleUploadFiles(o);this.$refs.uploadel.value=""}this.$refs.uploadel.value=""},handleAssembleFile:function t(e){var r=e.name.slice((e.name.lastIndexOf(".")-1>>>0)+1);var n=e.name.substring(0,e.name.lastIndexOf(r));var i=this.fileIndex;this.fileIndex+=1;return{name:n,type:e.type,size:e.size,percentage:0,uid:Date.now()+i,originFile:e,status:"uploading",hasError:false,errorMsg:"",extension:r}},validateFile:function t(e){if(!e)return false;var r={message:"",success:true};if(e.size>this.maxFileSize){r.success=false;r.message="文件不能超过 ".concat(this.maxSize," ").concat(this.unit)}if(this.accept&&!this.accept.split(",").includes(e.type)){r.success=false;r.message=this.acceptTips}if(!r.success){this.$bkMessage({theme:"error",message:r.message})}return r.success},handleParseText:function t(e){var r=this;this.file=this.handleAssembleFile(e);var n=new FileReader;n.onload=function(t){try{var e=t.target.result;r.$emit("change",e,r.file);r.onUploadSuccess(e,r.file)}catch(t){r.$bkMessage({theme:"error",message:t||r.$t("解析文件失败")});r.file.hasError=true;r.onUploadError(t,r.file)}};n.onprogress=function(t){r.file.percentage="".concat(parseInt(t.loaded/t.total*100),"%")};n.readAsText(e)},handleUploadFiles:function t(e){var r=this;this.$emit("before-upload");this.file=this.handleAssembleFile(e);var n=this.file,i=n.originFile,a=n.uid;var o={headers:this.headers,withCredentials:this.withCredentials,file:i,filename:this.name,action:this.action,onProgress:function t(e){r.handleHttpProgress(e,i)},onSuccess:function t(e){r.handleHttpSuccess(e,i);delete r.reqsMap[a]},onError:function t(e){r.handleHttpError(e,i);delete r.reqsMap[a]}};var s=this.handleHttpRequest(o);this.reqsMap[a]=s},handleAbortUpload:function t(){if(this.file.uid&&this.reqsMap[this.file.uid]){this.reqsMap[this.file.uid].abort();delete this.reqsMap[this.file.uid]}this.file={};this.hoverInfo=false;this.$emit("change","",this.file)},handleHttpRequest:function t(e){var r=this;if(typeof XMLHttpRequest==="undefined")return;var n=new XMLHttpRequest;if(n.upload){n.upload.onprogress=function(t){if(t.total>0){t.percent=Math.round(t.loaded*100/t.total)}e.onProgress(t)}}var i=new FormData;i.append(e.filename,e.file,e.file.name);n.onerror=function(t){e.onError(t)};var a=e.action;n.onload=function(){if(n.status<200||n.status>=300||!JSON.parse(n.response).result){return e.onError(r.onError(a,n))}e.onSuccess(r.onSuccess(n))};n.open("post",a,true);if("withCredentials"in n){n.withCredentials=e.withCredentials}var o=e.headers;if(o){if(Array.isArray(o)){o.forEach((function(t){var e=t.name;var r=t.value;n.setRequestHeader(e,r)}))}else{var s=o.name;var l=o.value;n.setRequestHeader(s,l)}}n.send(i);return n},onError:function t(e,r){var n;if(r.response){try{n="".concat(JSON.parse(r.response).message||r.response)}catch(t){n=r.response}}else if(r.responseText){n="".concat(r.responseText)}else{n="fail to post ".concat(e," ").concat(r.status)}var i=new Error(n);i.status=r.status;i.method="post";i.url=e;return i},onSuccess:function t(e){var r=e.responseText||e.response;if(!r)return r;try{return JSON.parse(r)}catch(t){return r}},handleHttpProgress:function t(e,r){this.file.percentage="".concat(e.percent,"%");this.file.status="uploading";this.onUploadProgress(e,r)},handleHttpSuccess:function t(e,r){this.file.status="success";this.onUploadSuccess(e,r)},handleHttpError:function t(e,r){this.file.hasError=true;this.file.errorMsg=e.message;this.file.status="error";this.onUploadError(e,r)},handleMouseEnter:function t(){this.hoverInfo=true},handleMouseLeave:function t(){this.hoverInfo=false},handleRetry:function t(){if(this.file.originFile){this.handleUploadFiles(this.file.originFile)}}}};e.default=a},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(331);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(5));var a=n(r(6));var o=n(r(17));var s=r(9);function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){l(Object(r),true).forEach((function(e){(0,o.default)(t,e,r[e])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}}return t}var c={name:"permission-select",model:{prop:"value",event:"update"},props:{value:{type:[String,Array,Number],default:""},optionList:{type:Array,default:function t(){return[]}},extCls:{type:String,default:""},placeholder:{type:String,default:""},multiple:{type:Boolean,default:false},searchable:{type:Boolean,default:false},clearable:{type:Boolean,default:false},readonly:{type:Boolean,default:false},disabled:{type:Boolean,default:false},optionId:{type:String,default:"id"},optionName:{type:String,default:"name"},extension:{type:Boolean,default:false},permission:{type:[String,Boolean,Number],default:true},permissionKey:{type:String,default:""},permissionType:{type:String,default:""},permissionId:{type:String,default:""},permissionName:{type:String,default:""},popoverMinWidth:Number},data:function t(){return{loading:false,selectValue:this.value,remoteMethod:this.handleRemoteMethod}},computed:u(u({},(0,s.mapGetters)(["permissionSwitch"])),{},{openPermission:function t(){return this.permissionSwitch&&this.permission},selectedItems:function t(){var e=this;if(this.selectValue instanceof Array){return this.optionList.filter((function(t){return e.selectValue.includes(t[e.optionId])&&(e.openPermission?t.permission||t[e.permissionKey]:true)}))}return this.optionList.filter((function(t){return e.selectValue===t[e.optionId]&&(e.openPermission?t.permission||t[e.permissionKey]:true)}))},instanceId:function t(){return this.openPermission?this.permissionId||this.optionId:this.optionId},instanceName:function t(){return this.openPermission?this.permissionName||this.optionName:this.optionName}}),watch:{value:function t(e){this.selectValue=e}},created:function t(){this.handleInit()},methods:{handleInit:function t(){var e=this;return(0,a.default)(i.default.mark((function t(){var r,n;return i.default.wrap((function t(i){while(1){switch(i.prev=i.next){case 0:if(e.openPermission){r=JSON.stringify(e.selectValue);if(Array.isArray(e.selectValue)){e.selectValue=e.optionList.filter((function(t){return e.selectValue.includes(t[e.optionId])&&(t.permission||t[e.permissionKey])}))}else{n=e.optionList.find((function(t){return e.selectValue===t[e.optionId]&&(t.permission||t[e.permissionKey])}));e.selectValue=n?n[e.optionId]:""}e.$emit("update",e.selectValue);if(JSON.stringify(e.selectValue)!==r){e.$emit("change",e.selectValue,r,e.selectedItems)}}case 1:case"end":return i.stop()}}}),t)})))()},handleSelected:function t(e,r){this.$emit("selected",e,r,this.selectedItems)},handleToggle:function t(e){this.$emit("toggle",e,this.selectedItems)},handleChange:function t(e,r){this.selectValue=e;this.$emit("update",e);this.$emit("change",e,r,this.selectedItems)},handleClear:function t(e){this.$emit("clear",e,this.selectedItems)},handleSelectClose:function t(){this.$refs.permissionSelect.close()},handleExtension:function t(){this.$emit("extension")},show:function t(){this.$refs.permissionSelect&&this.$refs.permissionSelect.show()}}};e.default=c},function(t,e,r){},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(335);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=r(13);var a=n(r(324));var o={name:"table-header",components:{InputType:a.default},props:{tips:{type:String,default:""},label:{type:String,default:""},required:{type:Boolean,default:false},batch:{type:Boolean,default:false},isBatchIconShow:{type:Boolean,default:true},type:{type:String,default:""},subTitle:{type:String,default:""},options:{type:Array,default:function t(){return[]}},multiple:{type:Boolean,default:false},placeholder:{type:String,default:""},appendSlot:{type:String,default:""}},data:function t(){return{isActive:false,value:"",isShow:false,fileInfo:null}},created:function t(){i.bus.$on("batch-btn-click",this.hidePopover)},methods:{handleBatchClick:function t(){this.$refs.batch&&this.$refs.batch.instance.show();this.isActive=true;i.bus.$emit("batch-btn-click",this)},handleBatchConfirm:function t(){this.$emit("confirm",this.value,this.fileInfo);this.handleBatchCancel()},handleBatchCancel:function t(){this.isActive=false;this.$refs.batch&&this.$refs.batch.instance.hide()},handleOnShow:function t(){this.value="";this.isShow=true},handleOnHide:function t(){this.isShow=false},hidePopover:function t(e){if(e===this)return;this.handleBatchCancel()},handleFileChange:function t(e){this.fileInfo=e}}};e.default=o},function(t,e,r){},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(569);var i=r(339);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(481);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"19a1dd97",null);e["default"]=l.exports},function(t,e,r){"use strict";r.r(e);var n=r(340);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n={name:"install-method",model:{prop:"value",event:"update"},props:{isManual:{type:Boolean,default:false},required:{type:Boolean,default:false}},data:function t(){return{}},methods:{installMethodHandle:function t(e){this.$emit("change",e)}}};e.default=n},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(562);var i=r(343);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(482);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"2cd6daae",null);e["default"]=l.exports},function(t,e,r){"use strict";r.r(e);var n=r(344);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n={name:"filter-ip-tips",methods:{handleShowDetail:function t(){this.$emit("click")}}};e.default=n},function(t,e,r){},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n={data:function t(){return{filterList:[],showFilterTips:false,showFilterDialog:false}},methods:{handleFilterIp:function t(e,r){if(e){if(e.job_id){r?this.$router.push({name:"taskDetail",params:{taskId:e.job_id}}):this.$router.replace({name:"taskDetail",params:{taskId:e.job_id}})}else{this.handleShowMsg(e.ip_filter)}}},handleShowFilterMsg:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];if(!e||!e.length)return;this.$bkMessage({theme:"warning",message:this.$t("部分过滤提示",{firstIp:e[0].ip,total:e.length})})},handleShowMsg:function t(e){var r=this;this.filterList=e;var n=this.$createElement;this.$bkMessage({theme:"error",message:n("p",[this.$t("全部过滤提示"),n("span",{style:{color:"#3A84FF",cursor:"pointer"},on:{click:this.handleShowDetail}},this.$t("查看详情"))]),onClose:function t(){r.showFilterTips=true}})},handleShowDetail:function t(){this.showFilterDialog=true}}};e.default=n},function(t,e,r){"use strict";r.r(e);var n=r(540);var i=r(348);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(483);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"31b2019b",null);e["default"]=l.exports},function(t,e,r){"use strict";r.r(e);var n=r(349);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n={name:"filter-dialog",model:{prop:"value",event:"change"},props:{value:{type:Boolean,default:false},title:{type:String,default:""},list:{type:Array,default:function t(){return[]}}},data:function t(){return{data:JSON.parse(JSON.stringify(this.list))}},watch:{list:function t(e){this.data=JSON.parse(JSON.stringify(e))}},methods:{handleValueChange:function t(e){this.$emit("change",e)},confirm:function t(){this.$emit("confirm",this.data)},cancel:function t(){this.$emit("cancel",this.data)},handleFilterExport:function t(){var e=this;var n=this.$refs.table.$el;Promise.all([r.e(1),r.e(2)]).then(r.t.bind(null,448,7)).then((function(t){var r=t.utils.table_to_book(n,{sheet:e.$t("过滤列表")});t.writeFile(r,"".concat(e.$t("过滤列表"),".xlsx"))}));this.$emit("filter-export",this.data);this.$emit("change",false)},handleFilterConfirm:function t(){this.$emit("filter-confirm",this.data);this.$emit("change",false)}}};e.default=n},function(t,e,r){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r.r(e);var n=r(385);var i=r.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return n[t]}))})(a);e["default"]=i.a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(504));var a=n(r(505));var o=n(r(506));var s=n(r(507));var l={name:"app-exception-card",props:{type:{type:String,default:"notData"},delay:{type:Number,default:0},text:{type:String,default:""},hasBorder:{type:Boolean,default:true}},data:function t(){var e="";var r="";switch(this.type){case"notData":r=i.default;e=window.i18n.t("没有数据");break;case"notPower":r=a.default;e=window.i18n.t("没有权限");break;case"notResult":r=o.default;e=window.i18n.t("搜索为空");break;case"dataAbnormal":r=s.default;e=window.i18n.t("数据异常");break}if(this.text){e=this.text}return{show:false,message:e,image:r}},created:function t(){var e=this;setTimeout((function(){e.show=true}),this.delay)},methods:{handleClick:function t(){this.$emit("click",this.type)}}};e.default=l},function(t,e,r){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r.r(e);var n=r(563);var i=r(290);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(456);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"5e4194c3",null);e["default"]=l.exports},function(t,e,r){"use strict";r.r(e);var n=r(573);var i=r(308);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(467);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"36eb1836",null);e["default"]=l.exports},function(t,e,r){"use strict";r.r(e);var n=r(570);var i=r(310);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(464);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"13cb333f",null);e["default"]=l.exports},function(t,e,r){"use strict";r.r(e);var n=r(588);var i=r(321);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(473);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"081f66de",null);e["default"]=l.exports},function(t,e,r){"use strict";r.r(e);var n=r(590);var i=r(327);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(474);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"a5bbe634",null);e["default"]=l.exports},function(t,e,r){"use strict";r.r(e);var n=r(564);var i=r(330);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(475);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"77e58aac",null);e["default"]=l.exports},,function(t,e,r){"use strict";r.r(e);r.d(e,"Action",(function(){return w}));r.d(e,"Module",(function(){return m}));r.d(e,"Mutation",(function(){return k}));r.d(e,"MutationAction",(function(){return x}));r.d(e,"VuexModule",(function(){return a}));r.d(e,"config",(function(){return _}));r.d(e,"getModule",(function(){return o}));function n(t,e){var r=function(r){Object.defineProperty(t,r,{get:function(){return e[r]}})};for(var n=0,i=Object.keys(e||{});n<i.length;n++){var a=i[n];r(a)}}function i(t){if(!t._vmdModuleName){throw new Error("ERR_GET_MODULE_NAME : Could not get module accessor.\n      Make sure your module has name, we can't make accessors for unnamed modules\n      i.e. @Module({ name: 'something' })")}return"vuexModuleDecorators/"+t._vmdModuleName}var a=function(){function t(t){this.actions=t.actions;this.mutations=t.mutations;this.state=t.state;this.getters=t.getters;this.namespaced=t.namespaced;this.modules=t.modules}return t}();function o(t,e){var r=i(t);if(e&&e.getters[r]){return e.getters[r]}else if(t._statics){return t._statics}var n=t._genStatic;if(!n){throw new Error("ERR_GET_MODULE_NO_STATICS : Could not get module accessor.\n      Make sure your module has name, we can't make accessors for unnamed modules\n      i.e. @Module({ name: 'something' })")}var a=n(e);if(e){e.getters[r]=a}else{t._statics=a}return a}var s=["actions","getters","mutations","modules","state","namespaced","commit"];function l(t){var e=new t.prototype.constructor({});var r={};Object.keys(e).forEach((function(t){if(s.indexOf(t)!==-1){if(typeof e[t]!=="undefined"){throw new Error("ERR_RESERVED_STATE_KEY_USED: You cannot use the following\n        ['actions', 'getters', 'mutations', 'modules', 'state', 'namespaced', 'commit']\n        as fields in your module. These are reserved as they have special purpose in Vuex")}return}if(e.hasOwnProperty(t)){if(typeof e[t]!=="function"){r[t]=e[t]}}}));return r}function u(t,e,r,n){return new(r||(r=Promise))((function(i,a){function o(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n["throw"](t))}catch(t){a(t)}}function l(t){t.done?i(t.value):new r((function(e){e(t.value)})).then(o,s)}l((n=n.apply(t,e||[])).next())}))}function c(t,e){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return l([t,e])}}function l(o){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(a=o[0]&2?i["return"]:o[0]?i["throw"]||((a=i["return"])&&a.call(i),0):i.next)&&!(a=a.call(i,o[1])).done)return a;if(i=0,a)o=[o[0]&2,a.value];switch(o[0]){case 0:case 1:a=o;break;case 4:r.label++;return{value:o[1],done:false};case 5:r.label++;i=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(a=r.trys,a=a.length>0&&a[a.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!a||o[1]>a[0]&&o[1]<a[3])){r.label=o[1];break}if(o[0]===6&&r.label<a[1]){r.label=a[1];a=o;break}if(a&&r.label<a[2]){r.label=a[2];r.ops.push(o);break}if(a[2])r.ops.pop();r.trys.pop();continue}o=e.call(t,r)}catch(t){o=[6,t];i=0}finally{n=a=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}}function f(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n}function d(t,e,r){var n=e.stateFactory?t.state():t.state;Object.keys(n).forEach((function(t){if(n.hasOwnProperty(t)){if(["undefined","function"].indexOf(typeof n[t])===-1){Object.defineProperty(r,t,{get:function(){return r.store.state[e.name][t]}})}}}))}function p(t,e,r){Object.keys(t.getters).forEach((function(n){if(t.namespaced){Object.defineProperty(r,n,{get:function(){return r.store.getters[e.name+"/"+n]}})}else{Object.defineProperty(r,n,{get:function(){return r.store.getters[n]}})}}))}function h(t,e,r){Object.keys(t.mutations).forEach((function(n){if(t.namespaced){r[n]=function(){var t;var i=[];for(var a=0;a<arguments.length;a++){i[a]=arguments[a]}(t=r.store).commit.apply(t,f([e.name+"/"+n],i))}}else{r[n]=function(){var t;var e=[];for(var i=0;i<arguments.length;i++){e[i]=arguments[i]}(t=r.store).commit.apply(t,f([n],e))}}}))}function v(t,e,r){Object.keys(t.actions).forEach((function(n){if(t.namespaced){r[n]=function(){var t=[];for(var i=0;i<arguments.length;i++){t[i]=arguments[i]}return u(this,void 0,void 0,(function(){var i;return c(this,(function(a){return[2,(i=r.store).dispatch.apply(i,f([e.name+"/"+n],t))]}))}))}}else{r[n]=function(){var t=[];for(var e=0;e<arguments.length;e++){t[e]=arguments[e]}return u(this,void 0,void 0,(function(){var e;return c(this,(function(i){return[2,(e=r.store).dispatch.apply(e,f([n],t))]}))}))}}}))}function y(t,e){if(!e.name){throw new Error("Name of module not provided in decorator options")}if(!e.store){throw new Error("Store not provided in decorator options when using dynamic option")}e.store.registerModule(e.name,t,{preserveState:e.preserveState||false})}function g(t){return function(e){var r=e;var i=function(){return l(r)};if(!r.state){r.state=t&&t.stateFactory?i:i()}if(!r.getters){r.getters={}}if(!r.namespaced){r.namespaced=t&&t.namespaced}Object.getOwnPropertyNames(r.prototype).forEach((function(t){var e=Object.getOwnPropertyDescriptor(r.prototype,t);if(e.get&&r.getters){r.getters[t]=function(t,r,i,a){var o={context:{state:t,getters:r,rootState:i,rootGetters:a}};n(o,t);n(o,r);var s=e.get.call(o);return s}}}));var a=t;if(a.name){Object.defineProperty(e,"_genStatic",{value:function(t){var e={store:t||a.store};if(!e.store){throw new Error("ERR_STORE_NOT_PROVIDED: To use getModule(), either the module\n            should be decorated with store in decorator, i.e. @Module({store: store}) or\n            store should be passed when calling getModule(), i.e. getModule(MyModule, this.$store)")}d(r,a,e);if(r.getters){p(r,a,e)}if(r.mutations){h(r,a,e)}if(r.actions){v(r,a,e)}return e}});Object.defineProperty(e,"_vmdModuleName",{value:a.name})}if(a.dynamic){y(r,a)}return e}}function m(t){if(typeof t==="function"){g({})(t)}else{return g(t)}}var _={};function b(t){var e=t||{},r=e.commit,a=r===void 0?undefined:r,s=e.rawError,l=s===void 0?!!_.rawError:s,f=e.root,d=f===void 0?false:f;return function(t,e,r){var s=t.constructor;if(!s.hasOwnProperty("actions")){s.actions=Object.assign({},s.actions)}var f=r.value;var p=function(t,r){return u(this,void 0,void 0,(function(){var u,d,p,h,v;return c(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,,6]);u=null;if(!s._genStatic)return[3,2];d=i(s);p=t.rootGetters[d]?t.rootGetters[d]:o(s);p.context=t;return[4,f.call(p,r)];case 1:u=c.sent();return[3,4];case 2:h={context:t};n(h,t.state);n(h,t.getters);return[4,f.call(h,r)];case 3:u=c.sent();c.label=4;case 4:if(a){t.commit(a,u)}return[2,u];case 5:v=c.sent();throw l?v:new Error("ERR_ACTION_ACCESS_UNDEFINED: Are you trying to access "+"this.someMutation() or this.someGetter inside an @Action? \n"+"That works only in dynamic modules. \n"+'If not dynamic use this.context.commit("mutationName", payload) '+'and this.context.getters["getterName"]'+"\n"+new Error("Could not perform action "+e.toString()).stack+"\n"+v.stack);case 6:return[2]}}))}))};s.actions[e]=d?{root:d,handler:p}:p}}function w(t,e,r){if(!e&&!r){return b(t)}else{b()(t,e,r)}}function k(t,e,r){var n=t.constructor;if(!n.hasOwnProperty("mutations")){n.mutations=Object.assign({},n.mutations)}var i=r.value;var a=function(t,e){i.call(t,e)};n.mutations[e]=a}function C(t){return function(e,r,n){var i=e.constructor;if(!i.hasOwnProperty("mutations")){i.mutations=Object.assign({},i.mutations)}if(!i.hasOwnProperty("actions")){i.actions=Object.assign({},i.actions)}var a=n.value;var o=function(e,n){return u(this,void 0,void 0,(function(){var i,o;return c(this,(function(s){switch(s.label){case 0:s.trys.push([0,2,,3]);return[4,a.call(e,n)];case 1:i=s.sent();e.commit(r,i);return[3,3];case 2:o=s.sent();if(t.rawError){throw o}else{console.error("Could not perform action "+r.toString());console.error(o);return[2,Promise.reject(o)]}case 3:return[2]}}))}))};var s=function(e,r){if(!t.mutate){t.mutate=Object.keys(r)}for(var n=0,i=t.mutate;n<i.length;n++){var a=i[n];if(e.hasOwnProperty(a)&&r.hasOwnProperty(a)){e[a]=r[a]}else{throw new Error("ERR_MUTATE_PARAMS_NOT_IN_PAYLOAD\n          In @MutationAction, mutate: ['a', 'b', ...] array keys must\n          match with return type = {a: {}, b: {}, ...} and must\n          also be in state.")}}};i.actions[r]=t.root?{root:true,handler:o}:o;i.mutations[r]=s}}function x(t,e,r){if(!e&&!r){return C(t)}else{C({})(t,e,r)}}},function(t,e,r){"use strict";r.r(e);var n=r(572);var i=r(384);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(508);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"13d400bd",null);e["default"]=l.exports},,,,,function(t,e){function r(t){if(Array.isArray(t))return t}t.exports=r},function(t,e){function r(t,e){var r=[];var n=true;var i=false;var a=undefined;try{for(var o=t[Symbol.iterator](),s;!(n=(s=o.next()).done);n=true){r.push(s.value);if(e&&r.length===e)break}}catch(t){i=true;a=t}finally{try{if(!n&&o["return"]!=null)o["return"]()}finally{if(i)throw a}}return r}t.exports=r},function(t,e){function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}t.exports=r},function(t,e,r){"use strict";var n=r(289);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";var n=r(292);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";r.r(e);var n=r(583);var i=r(293);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(458);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"007ace54",null);e["default"]=l.exports},function(t,e,r){"use strict";var n=r(295);var i=r.n(n);var a=i.a},,,,,function(t,e,r){"use strict";var n=r(304);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";var n=r(312);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";r.r(e);var n=r(586);var i=r(313);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(466);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"6bde8566",null);e["default"]=l.exports},function(t,e,r){"use strict";var n=r(315);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";var n=r(316);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";var n=r(317);var i=r.n(n);var a=i.a},function(t,e){function r(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++){r[e]=t[e]}return r}}t.exports=r},function(t,e){function r(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}t.exports=r},function(t,e){function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.exports=r},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n=void 0&&(void 0).__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++){t+=arguments[e].length}for(var n=Array(t),i=0,e=0;e<r;e++){for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++){n[i]=a[o]}}return n};function i(t,e){var r=Promise.resolve();var i=t.length;var a=0;if(i<=0){return r}function o(){var e=[];for(var s=0;s<arguments.length;s++){e[s]=arguments[s]}return r.then((function(r){return t[a].apply(t,n([r],e))})).then((function(t){a=a+1;return a>i-1?Promise.resolve(t):o.apply(void 0,e)}))}return o(e)}var a=i;e.default=a},function(t,e,r){"use strict";var n=r(323);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";var n=r(329);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";var n=r(332);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";var n=r(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var i=n(r(11));var a=r(18);var o=void 0&&(void 0).__extends||function(){var t=function e(r,n){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e){if(e.hasOwnProperty(r))t[r]=e[r]}};return t(r,n)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var s=void 0&&(void 0).__decorate||function(t,e,r,n){var a=arguments.length,o=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if((typeof Reflect==="undefined"?"undefined":(0,i.default)(Reflect))==="object"&&typeof Reflect.decorate==="function")o=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--){if(s=t[l])o=(a<3?s(o):a>3?s(e,r,o):s(e,r))||o}return a>3&&o&&Object.defineProperty(e,r,o),o};var l=function(t){o(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}e.prototype.dispatch=function(t,e,r){var n=this.$parent||this.$root;var i=n.$options.name;while(n&&(!i||i!==t)){n=n.$parent;if(n){i=n.$options.name}}if(n){n.$emit.apply(n,[e].concat(r))}};e=s([a.Component],e);return e}(a.Vue);var u=l;e.default=u},function(t,e,r){"use strict";var n=r(333);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";r.r(e);var n=r(584);var i=r(334);for(var a in i)if(["default"].indexOf(a)<0)(function(t){r.d(e,t,(function(){return i[t]}))})(a);var o=r(479);var s=r(2);var l=Object(s["a"])(i["default"],n["a"],n["b"],false,null,"744d4af4",null);e["default"]=l.exports},function(t,e,r){"use strict";var n=r(336);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";var n=r(337);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";var n=r(341);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";var n=r(345);var i=r.n(n);var a=i.a},function(t,e,r){"use strict";var n=r(350);var i=r.n(n);var a=i.a},,,,,,,,,,,,,,,,,,,,,function(t,e,r){t.exports=r.p+"nodeman/images/not-data.8d09c8a.png"},function(t,e,r){t.exports=r.p+"nodeman/images/not-power.21fabe2.png"},function(t,e,r){t.exports=r.p+"nodeman/images/not-result.0a9b04d.png"},function(t,e,r){t.exports=r.p+"nodeman/images/data-abnormal.0c733f0.png"},function(t,e,r){"use strict";var n=r(386);var i=r.n(n);var a=i.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("bk-dialog",{attrs:{value:t.value,"header-position":"left",title:t.title,width:"800"},on:{"value-change":t.handleValueChange,confirm:t.confirm,cancel:t.cancel},scopedSlots:t._u([{key:"default",fn:function(){return[t.data.length&&t.value?r("bk-table",{ref:"table",attrs:{data:t.data,"max-height":"464"}},[r("bk-table-column",{attrs:{label:"IP",prop:"ip",width:"180"}}),t._v(" "),r("bk-table-column",{attrs:{label:t.$t("过滤原因"),prop:"msg","show-overflow-tooltip":""}})],1):t._e()]},proxy:true},{key:"footer",fn:function(){return[r("div",{staticClass:"footer"},[r("bk-button",{on:{click:t.handleFilterExport}},[t._v(t._s(t.$t("导出")))]),t._v(" "),r("div",{staticClass:"footer-right"},[r("bk-button",{attrs:{theme:"primary"},on:{click:t.handleFilterConfirm}},[t._v(t._s(t.$t("确定")))])],1)],1)]},proxy:true}])})};var i=[]},,,,,,,,,,,,,,,,,,,,,,function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"filter-tips"},[r("i",{staticClass:"filter-tips-icon nodeman-icon nc-tips"}),t._v(" "),r("span",[t._v(t._s(t.$t("全部过滤提示")))]),t._v(" "),r("bk-button",{attrs:{"ext-cls":"filter-tips-btn",text:""},on:{click:t.handleShowDetail}},[t._v(t._s(t.$t("查看详情")))])],1)};var i=[]},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"check"},[t.loading?r("bk-button",{attrs:{"ext-cls":"check-btn-loading",size:"small",loading:t.loading}}):[r("auth-component",{attrs:{tag:"div",auth:{permission:t.checkAllPermission,apply_info:[{action:t.action}]}},scopedSlots:t._u([{key:"default",fn:function(e){return[r("bk-checkbox",{class:{"all-check":t.checkType.active==="all",indeterminate:t.indeterminate&&t.checkType.active==="all"},attrs:{value:t.checkValue,indeterminate:t.halfCheck,disabled:t.disabled||e.disabled},on:{change:t.handleCheckChange}})]}}])}),t._v(" "),r("bk-popover",{ref:"popover",attrs:{theme:"light agent-operate",trigger:"click",placement:"bottom",arrow:false,offset:"35, 0","on-show":t.handleOnShow,"on-hide":t.handleOnHide},scopedSlots:t._u([{key:"content",fn:function(){return[r("ul",{staticClass:"dropdown-list"},[t._l(t.checkType.list,(function(e,n){return[e.id==="current"?r("auth-component",{key:n,staticClass:"list-item",attrs:{tag:"li",auth:{permission:t.checkAllPermission,apply_info:[{action:t.action}]}},on:{click:function(r){return t.handleCheckAll(e.id)}},scopedSlots:t._u([{key:"default",fn:function(n){return[r("span",{attrs:{disabled:n.disabled}},[t._v("\n                  "+t._s(e.name)+"\n                ")])]}}],null,true)}):r("li",{key:n,staticClass:"list-item",on:{click:function(r){return t.handleCheckAll(e.id)}}},[t._v("\n              "+t._s(e.name)+"\n            ")])]}))],2)]},proxy:true}])},[r("i",{staticClass:"check-icon nodeman-icon",class:t.isDropDownShow?"nc-arrow-up":"nc-arrow-down"})])]],2)};var i=[]},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("bk-select",{ref:"permissionSelect",attrs:{value:t.selectValue,placeholder:t.placeholder,loading:t.loading,"ext-cls":t.extCls,searchable:t.searchable,multiple:t.multiple,clearable:t.clearable,readonly:t.readonly,disabled:t.disabled,"popover-options":{boundary:"window"},"popover-min-width":t.popoverMinWidth},on:{selected:t.handleSelected,toggle:t.handleToggle,change:t.handleChange,clear:t.handleClear}},[t._l(t.optionList,(function(e){return[r("bk-option",{key:e[t.optionId],class:{"is-auth-disabled":t.openPermission&&!(e.permission||e[t.permissionKey])},attrs:{id:e[t.optionId],name:e[t.optionName],disabled:e.disabled}},[r("div",{staticClass:"bk-option-content-default",attrs:{title:e[t.optionName]}},[r("span",{staticClass:"bk-option-name"},[t._v("\n                    "+t._s(e[t.optionName])+"\n                ")]),t._v(" "),t.multiple&&t.selectValue.includes(e[t.optionId])?r("i",{staticClass:"select-item-icon bk-option-icon bk-icon icon-check-1"}):t._e(),t._v(" "),t.openPermission&&!(e.permission||e[t.permissionKey])?r("auth-component",{staticClass:"bk-option-content-default",attrs:{tag:"div",title:e[t.optionName],auth:{permission:e.permission||e[t.permissionKey]||false,apply_info:[{action:e.permissionType||t.permissionType,instance_id:e[t.instanceId],instance_name:e[t.instanceName]}]}},on:{click:t.handleSelectClose}}):t._e()],1)])]})),t._v(" "),t.extension?r("div",{staticStyle:{cursor:"pointer"},attrs:{slot:"extension"},on:{click:t.handleExtension},slot:"extension"},[r("i",{staticClass:"bk-icon icon-plus-circle mr5"}),t._v(t._s(t.$t("新增"))+"\n    ")]):t._e()],2)};var i=[]},,function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"setup"},[r("div",{class:["setup-header-wrapper",{"setup-setting":t.localMark}]},[r("table",[r("colgroup",t._l(t.tableHead,(function(t,e){return r("col",{key:e,attrs:{width:t.width?t.width:"auto"}})})),0),t._v(" "),r("thead",{staticClass:"setup-header"},[r("tr",t._l(t.tableHead,(function(e,n){return r("th",{key:n},[t.localMark&&n===t.tableHead.length-1?r("ColumnSetting",{staticClass:"column-setting",attrs:{"filter-head":"","local-mark":t.localMark,"font-setting":false,value:t.filter},on:{update:t.handleColumnUpdate}}):r("table-header",t._b({on:{confirm:function(r){return t.handleBatchConfirm(arguments,e)}}},"table-header",{tips:e.tips,label:e.label,required:!e.noRequiredMark&&e.required,batch:e.batch,isBatchIconShow:!!t.table.data.length,type:e.type,subTitle:e.subTitle,options:t.getCellInputOptions({},e),multiple:!!e.multiple,placeholder:e.placeholder,appendSlot:e.appendSlot},false))],1)})),0)])])]),t._v(" "),t.table.data.length?r("div",{ref:"tableBody",staticClass:"setup-body-wrapper",style:{height:t.height},on:{scroll:t.rootScroll}},[t.virtualScroll?r("div",{staticClass:"virtual-scroll-wrapper",style:t.ghostStyle}):t._e(),t._v(" "),r("div",{ref:"content",staticClass:"body-content",class:{"virtual-scroll-content":t.virtualScroll}},[r("table",[r("colgroup",t._l(t.tableHead,(function(t,e){return r("col",{key:e,attrs:{width:t.width?t.width:"auto"}})})),0),t._v(" "),r("tbody",{staticClass:"setup-body"},t._l(t.renderData,(function(e){return r("tr",{key:e.id},t._l(t.tableHead,(function(n,i){return r("td",{key:i},[n.type==="operate"?r("div",{staticClass:"cell-operate"},[t.needPlus?r("i",{staticClass:"cell-operate-plus nodeman-icon nc-plus",on:{click:function(r){return t.handleAddItem(e.id)}}}):t._e(),t._v(" "),r("i",{staticClass:"cell-operate-delete nodeman-icon nc-minus",attrs:{disabled:t.disableDelete},on:{click:function(r){return t.handleDeleteItem(e.id)}}})]):r("verify-input",{ref:"verify",refInFor:true,attrs:{position:"right",id:e.id,prop:n.prop,required:n.required,rules:n.rules,"icon-offset":n.iconOffset,"default-validator":t.getDefaultValidator(e,n),"proxy-status":t.getCurrentPorxyStatus(e,n)},on:{"jump-proxy":function(r){return t.handleGotoProxy(e)}}},[t.virtualScroll&&!t.editStatus(e,n)&&t.getDisabledType(e,n)?r("div",{class:["ghost-wrapper",{"is-disabled":t.getCellDisabled(e,n)}],on:{click:function(r){return t.handleShowEdit(e,n)}}},[["select","biz"].includes(t.getCellInputType(e,n))?r("span",{staticClass:"ghost-input bk-form-input select",attrs:{"data-placeholder":t.getDisplayName(e,n)?"":n.placeholder}},[r("span",{staticClass:"name"},[t._v(t._s(t.getDisplayName(e,n)))]),t._v(" "),r("i",{staticClass:"bk-icon icon-angle-down"})]):t.getCellInputType(e,n)==="password"?r("span",{staticClass:"ghost-input bk-form-input password",attrs:{"data-placeholder":e[n.prop]?"":n.placeholder}},[r("span",{staticClass:"name"},[t._v(t._s(t.hidePassword(e,n)))])]):n.appendSlot?r("span",{staticClass:"ghost-input speed",attrs:{"data-placeholder":e[n.prop]?"":n.placeholder}},[r("span",{staticClass:"name"},[t._v(t._s(e[n.prop]))]),t._v(" "),r("span",{staticClass:"speed-unit"},[t._v("MB/s")])]):r("span",{staticClass:"ghost-input bk-form-input",attrs:{"data-placeholder":e[n.prop]?"":n.placeholder}},[r("span",{staticClass:"name"},[t._v(t._s(e[n.prop]))])])]):r("input-type",t._b({class:{ml20:t.getCellInputType(e,n)==="switcher"},on:{change:function(r){return t.handleCellValueChange(e,n)},"upload-change":function(r){return t.handleCellUploadChange(r,e)}},model:{value:e[n.prop],callback:function(r){t.$set(e,n.prop,typeof r==="string"?r.trim():r)},expression:"row[config.prop]"}},"input-type",{prop:n.prop,type:t.getCellInputType(e,n),disabled:t.getCellDisabled(e,n),options:t.getCellInputOptions(e,n),placeholder:n.placeholder,multiple:!!n.multiple,splitCode:n.splitCode,popoverMinWidth:n.popoverMinWidth,autoRequest:!!n.autoRequest,appendSlot:n.appendSlot,permission:n.permission,autofocus:t.virtualScroll,fileInfo:t.getCellFileInfo(e,n)},false))],1)],1)})),0)})),0)])])]):t._e(),t._v(" "),!t.table.data.length?r("section",{staticClass:"setup-empty"},[t._t("empty",[r("i",{staticClass:"table-empty-icon bk-icon icon-empty"}),t._v(" "),r("span",{staticClass:"table-empty-text"},[t._v(t._s(t.$t("暂无数据")))])])],2):t._e()])};var i=[]},,,function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("bk-form-item",{attrs:{label:t.$t("安装方式"),required:t.required}},[r("div",{staticClass:"bk-button-group mothod-switch"},[r("bk-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:{delay:[300,0],content:t.$t("远程安装提示"),theme:"light"},expression:"{\n                delay: [300, 0],\n                content: $t('远程安装提示'),\n                theme: 'light'\n            }"}],class:{"is-selected":!t.isManual},on:{click:function(e){return t.installMethodHandle(false)}}},[r("span",{staticClass:"text-underline"},[t._v(t._s(t.$t("远程安装")))])]),t._v(" "),r("bk-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:{delay:[300,0],content:t.$t("手动安装提示"),theme:"light",width:205},expression:"{\n                delay: [300, 0],\n                content: $t('手动安装提示'),\n                theme: 'light',\n                width: 205\n            }"}],class:{"is-selected":t.isManual},on:{click:function(e){return t.installMethodHandle(true)}}},[r("span",{staticClass:"text-underline"},[t._v(t._s(t.$t("手动安装")))])])],1)])};var i=[]},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"right-panel",class:{"need-border":t.needBorder}},[r("div",{staticClass:"right-panel-title",class:{"align-center":t.alignCenter,"is-collapse":t.isEndCollapse},style:{backgroundColor:t.titleBgColor},on:{click:t.handleTitleClick}},[t._t("panel",[t._t("pre-panel"),t._v(" "),r("div",{staticClass:"panel-sub"},[r("i",{staticClass:"bk-icon title-icon",class:[t.collapse?"icon-down-shape":"icon-right-shape"],style:[t.iconStyle,{color:t.collapseColor}]})]),t._v(" "),r("div",{staticClass:"title-desc"},[t._t("title",[t._v("\n                    已选择"),r("span",{staticClass:"title-desc-num"},[t._v(t._s(t.title.num))]),t._v("个"+t._s(t.title.type||"主机")+"\n                ")])],2)])],2),t._v(" "),r("transition",{attrs:{css:false},on:{"before-enter":t.beforeEnter,enter:t.enter,"after-enter":t.afterEnter,"before-leave":t.beforeLeave,leave:t.leave,"after-leave":t.afterLeave,"leave-cancelled":t.afterLeave}},[r("div",{directives:[{name:"show",rawName:"v-show",value:t.collapse,expression:"collapse"}],staticClass:"right-panel-content"},[t._t("default")],2)])],1)};var i=[]},,function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:["bk-exception-card",{"has-border":t.hasBorder}]},[r("div",{staticClass:"exception-content"},[r("img",{staticClass:"exception-img",attrs:{src:t.image}}),t._v(" "),t.$slots.message?[t._t("message")]:[r("p",{staticClass:"exception-text"},[t._v(t._s(t.message))]),t._v(" "),t.type==="notPower"?r("p",{staticClass:"exception-text text-link",on:{click:t.handleClick}},[t._v(t._s(t.$t("去申请")))]):t._e()]],2)])};var i=[]},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"operation-tips"},[t._l(t.tipList,(function(e,n){return r("p",{key:"operation"+n,staticClass:"operation-step"},[t._v(t._s(n+1+". "+e))])})),t._v(" "),t.cloudAreaList.length?r("div",{staticClass:"cloud-panel"},t._l(t.cloudAreaList,(function(e){return r("RightPanel",{key:e.bk_cloud_id,class:["cloud-panel-item",{"is-close":!e.collapse}],attrs:{"need-border":false,"icon-style":{padding:"4px 4px",fontSize:"12px"},"collapse-color":"#979BA5","title-bg-color":"#F0F1F5",collapse:e.collapse,type:e.bk_cloud_name},on:{change:t.handleToggle}},[r("div",{staticClass:"collapse-header",attrs:{slot:"title"},slot:"title"},[t._v("\n                "+t._s(e.bk_cloud_name+" - "+e.ap_name)+"\n            ")]),t._v(" "),r("div",{staticClass:"collapse-container",attrs:{slot:""},slot:"default"},[r("StrategyTable",{attrs:{"host-type":e.type,area:e}})],1)])})),1):r("div",{staticClass:"mt15"},[r("StrategyTable",{attrs:{"host-type":t.hostType==="mixed"?"Agent":t.hostType}})],1)],2)};var i=[]},,,function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("bk-popover",{ref:"popover",staticClass:"popover",attrs:{theme:"light table-setting",trigger:"click",placement:"bottom-end","on-hide":t.handleOnHide},scopedSlots:t._u([{key:"content",fn:function(){return[r("div",{ref:"filterPanel",staticClass:"set-filter"},[r("div",{staticClass:"set-filter-title"},[t._v(t._s(t.$t("表格设置")))]),t._v(" "),t.filterHead?r("ul",{staticClass:"set-filter-list"},[r("li",{staticClass:"list-item"},[t._v("\n                    "+t._s(t.$t("字段显示设置"))+"\n                    ")]),t._v(" "),r("li",{staticClass:"list-item"},[r("bk-checkbox",{attrs:{value:t.isAllChecked},on:{change:t.handleCheckedAll}},[t._v(t._s(t.$t("全选")))])],1),t._v(" "),t._l(t.filter,(function(e){return r("li",{key:e.id,staticClass:"list-item"},[r("bk-checkbox",{attrs:{value:e.checked,disabled:e.disabled},on:{change:function(r){return t.handleCheckedChange(r,e)}}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])],1)}))],2):t._e(),t._v(" "),t.fontSetting?r("section",{staticClass:"set-font mb30"},[r("div",{staticClass:"set-font-title"},[t._v("\n                    "+t._s(t.$t("字号设置"))+"\n                ")]),t._v(" "),r("div",{staticClass:"bk-button-group"},t._l(t.fontConfig,(function(e){return r("bk-button",{key:e.id,class:{"is-selected":e.checked},on:{click:function(r){return t.fontSetHandle(e)}}},[t._v(t._s(e.name))])})),1)]):t._e(),t._v(" "),r("div",{staticClass:"set-filter-footer"},[r("bk-button",{staticClass:"footer-btn",attrs:{theme:"primary"},on:{click:t.handleFilterConfirm}},[t._v(t._s(t.$t("确认")))]),t._v(" "),r("bk-button",{staticClass:"ml10",on:{click:t.handleFilterCancel}},[t._v(t._s(t.$t("取消")))])],1)])]},proxy:true}])},[r("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:t.$t("表格展示设置"),expression:"$t('表格展示设置')",modifiers:{top:true}}],staticClass:"col-setting"},[r("i",{staticClass:"bk-icon icon-cog-shape"})])])};var i=[]},,function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("bk-sideslider",{attrs:{"is-show":t.show,width:880,title:t.title,"quick-close":true,"before-close":t.handleToggleTips}},[t.show?r("StrategyTemplate",{staticClass:"operation-tips",attrs:{slot:"content","host-type":t.hostType,"host-list":t.hostList},slot:"content"}):t._e()],1)};var i=[]},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("article",{directives:[{name:"show",rawName:"v-show",value:t.showTips,expression:"showTips"}],staticClass:"tips"},[t._m(0),t._v(" "),r("section",{staticClass:"tips-content"},[t._t("default",[Array.isArray(t.list)?r("ul",t._l(t.list,(function(e,n){return r("li",{key:n,staticClass:"tips-content-item"},[t._v(t._s(e))])})),0):r("span",{staticClass:"tips-content-item"},[t._v("\n                "+t._s(t.list)+"\n            ")])],null,{list:t.list}),t._v(" "),t.showClose?r("span",{staticClass:"tips-content-close",attrs:{text:""},on:{click:t.handleHide}},[t._v(t._s(t.$t("不再提示")))]):t._e()],2)])};var i=[function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("section",{staticClass:"tips-icon"},[r("i",{staticClass:"nodeman-icon nc-tips"})])}]},,,,function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("section",[r("div",{staticClass:"filter-header",class:{default:t.filterList.length===0},on:{click:function(e){e.stopPropagation();return t.handleShow(e)}}},[t._v("\n    "+t._s(t.name)+"\n    "),t.filterList.length?r("i",{staticClass:"header-icon nodeman-icon nc-filter-fill",class:{"is-selected":t.isSelected}}):t._e()]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:false,expression:"false"}]},[r("div",{ref:"labelMenu",staticClass:"label-menu-wrapper",style:{width:isNaN(t.width)?t.width:t.width+"px"}},[t.showSearch?r("bk-input",{staticClass:"search",attrs:{placeholder:t.$t("请输入关键字"),clearable:"","left-icon":"bk-icon icon-search"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}):t._e(),t._v(" "),t.filterList.length?r("ul",{staticClass:"label-menu-list"},[t.checkAll&&t.currentList.length?r("li",{staticClass:"item",on:{click:t.handleSelectAll}},[r("bk-checkbox",{staticClass:"check-box",attrs:{checked:t.isCheckAllCompted,value:t.isCheckAll}}),t._v(" "),r("span",{staticClass:"item-name"},[t._v(t._s(t.$t("全选")))])],1):t._e(),t._v(" "),t._l(t.currentList,(function(e,n){return r("li",{key:n,staticClass:"item",attrs:{title:e.name},on:{click:function(r){return t.handleSelectLabel(e)}}},[r("bk-checkbox",{staticClass:"check-box",attrs:{value:e.checked}}),t._v(" "),r("span",{staticClass:"item-name"},[t._v(t._s(e.name))])],1)})),t._v(" "),r("li",{directives:[{name:"show",rawName:"v-show",value:!t.currentList.length,expression:"!currentList.length"}],staticClass:"item-empty"},[t._v("\n          "+t._s(t.$t("无匹配数据"))+"\n        ")])],2):t._e(),t._v(" "),t.filterList.length?r("div",{staticClass:"footer",style:{"justify-content":t.footerAlign}},[r("bk-button",{attrs:{text:"","ext-cls":"footer-btn mr20"},on:{click:t.handleConfirm}},[t._v(t._s(t.$t("确定")))]),t._v(" "),r("bk-button",{attrs:{text:"","ext-cls":"footer-btn"},on:{click:t.handleResetSelected}},[t._v(t._s(t.$t("重置")))])],1):t._e()],1)])])};var i=[]},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"setup-header"},[r("bk-popover",{attrs:{theme:"light",placement:"top",content:t.tips,disabled:!Boolean(t.tips),width:"200"}},[r("span",{staticClass:"header-label",class:{"header-label-required":t.required,"header-label-tips":Boolean(t.tips)}},[t._v("\n      "+t._s(t.$t(t.label))+"\n    ")])]),t._v(" "),t.batch?r("bk-popover",{ref:"batch",attrs:{theme:"light batch-edit",trigger:"manual",placement:"bottom","tippy-options":{hideOnClick:false},"on-show":t.handleOnShow,"on-hide":t.handleOnHide},scopedSlots:t._u([{key:"content",fn:function(){return[r("div",{staticClass:"batch-edit"},[t.type==="password"?[r("div",{staticClass:"batch-edit-title"},[t._v("\n            "+t._s(t.$t("批量编辑",{title:t.$t("密码")}))+"\n          ")]),t._v(" "),t.isShow?r("div",{staticClass:"batch-edit-content"},[r("input-type",t._b({on:{enter:t.handleBatchConfirm},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"input-type",{type:"password"},false)),t._v(" "),r("div",{staticClass:"tip"},[t._v(t._s(t.subTitle))])],1):t._e(),t._v(" "),r("div",{staticClass:"batch-edit-title"},[t._v("\n            "+t._s(t.$t("批量编辑",{title:t.$t("密钥")}))+"\n          ")]),t._v(" "),t.isShow?r("div",{staticClass:"batch-edit-content"},[r("input-type",t._b({on:{"upload-change":t.handleFileChange}},"input-type",{type:"file"},false)),t._v(" "),r("div",{staticClass:"tip"},[t._v(t._s(t.$t("仅对密钥认证生效")))])],1):t._e()]:[r("div",{staticClass:"batch-edit-title"},[t._v("\n            "+t._s(t.$t("批量编辑",{title:t.$t(t.label)}))+"\n          ")]),t._v(" "),t.isShow?r("div",{staticClass:"batch-edit-content"},[r("input-type",t._b({on:{enter:t.handleBatchConfirm},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"input-type",{type:t.type,options:t.options,multiple:t.multiple,appendSlot:t.appendSlot,placeholder:t.placeholder},false)),t._v(" "),t.subTitle?r("div",{staticClass:"tip"},[t._v(t._s(t.subTitle))]):t._e()],1):t._e()],t._v(" "),r("div",{staticClass:"batch-edit-footer"},[r("bk-button",{attrs:{text:"","ext-cls":"footer-confirm"},on:{click:t.handleBatchConfirm}},[t._v(t._s(t.$t("确定")))]),t._v(" "),r("bk-button",{staticClass:"ml20",attrs:{text:"","ext-cls":"footer-cancel"},on:{click:t.handleBatchCancel}},[t._v(t._s(t.$t("取消")))])],1)],2)]},proxy:true}],null,false,1797000026)},[r("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:{content:t.$t("批量编辑",{title:""}),delay:[300,0]},expression:"{\n        'content': $t('批量编辑', { title: '' }),\n        'delay': [300, 0]\n      }",modifiers:{top:true}},{name:"show",rawName:"v-show",value:t.isBatchIconShow,expression:"isBatchIconShow"}],staticClass:"batch-icon nodeman-icon nc-bulk-edit",class:{active:t.isActive},on:{click:t.handleBatchClick}})]):t._e()],1)};var i=[]},,function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("bk-table",{attrs:{"show-overflow-tooltip":"",data:t.guideTable}},[r("bk-table-column",{attrs:{prop:"source",label:t.$t("源地址"),"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[n.sourceKey==="agent"?[t._v("\n                "+t._s(n.source)+"\n                "),n.sourceRe&&t.detail[n.sourceKey]?r("bk-popover",{attrs:{theme:"light",placement:"top",content:t.$t("复制")}},[r("i18n",{staticClass:"text-link",attrs:{path:"agent数量",tag:"span"},on:{click:function(e){e.stopPropagation();return t.handleCopy(n.sourceKey)}},scopedSlots:t._u([{key:"num",fn:function(){return[r("font",{attrs:{color:"3A84FF"}},[t._v(t._s(t.detail[n.sourceKey]))])]},proxy:true}],null,true)})],1):t._e()]:r("bk-popover",{attrs:{theme:"light strategy-table",placement:"top",disabled:!(t.detail[n.sourceKey]||n.sourceKey==="proxy"&&t.notAvailableProxy)}},[r("span",{class:{"text-link":t.detail[n.sourceKey]},on:{click:function(e){e.stopPropagation();return t.handleCopy(n.sourceKey)}}},[t._v(t._s(n.source))]),t._v(" "),r("ul",{attrs:{slot:"content"},slot:"content"},[n.sourceKey==="proxy"&&t.notAvailableProxy?[r("li",[t._v(t._s(t.$t("该云区域下暂未安装Proxy")))]),t._v(" "),r("li",{staticClass:"mt5"},[r("bk-link",{attrs:{theme:"primary"},on:{click:function(e){e.stopPropagation();return t.handleGotoProxy(e)}}},[t._v(t._s(t.$t("前往安装")))])],1)]:[t._l(t.area[n.sourceKey],(function(e){return r("li",{key:e},[t._v(t._s(e))])})),t._v(" "),r("li",{staticClass:"mt5"},[r("bk-link",{attrs:{theme:"primary"},on:{click:function(e){e.stopPropagation();return t.handleCopy(n.sourceKey)}}},[t._v(t._s(t.$t("点击复制")))])],1)]],2)])]}}])}),t._v(" "),r("bk-table-column",{attrs:{prop:"targetAdress",label:t.$t("目标地址"),"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[n.targetKey==="agent"?[t._v("\n                "+t._s(n.targetAdress)+"\n                "),n.targetRe&&t.detail[n.targetKey]?r("bk-popover",{attrs:{theme:"light",placement:"top",content:t.$t("复制")}},[r("i18n",{staticClass:"text-link",attrs:{path:"agent数量",tag:"span"},on:{click:function(e){e.stopPropagation();return t.handleCopy(n.targetKey)}},scopedSlots:t._u([{key:"num",fn:function(){return[r("font",{attrs:{color:"3A84FF"}},[t._v(t._s(t.detail[n.targetKey]))])]},proxy:true}],null,true)})],1):t._e()]:r("bk-popover",{attrs:{theme:"light strategy-table",placement:"top",disabled:!(t.detail[n.targetKey]||n.targetKey==="proxy"&&t.notAvailableProxy)}},[r("span",{class:{"text-link":t.detail[n.targetKey]},on:{click:function(e){e.stopPropagation();return t.handleCopy(n.targetKey)}}},[t._v(t._s(n.targetAdress))]),t._v(" "),r("ul",{attrs:{slot:"content"},slot:"content"},[n.targetKey==="proxy"&&t.notAvailableProxy?[r("li",[t._v(t._s(t.$t("该云区域下暂未安装Proxy")))]),t._v(" "),r("li",{staticClass:"mt5"},[r("bk-link",{attrs:{theme:"primary"},on:{click:function(e){e.stopPropagation();return t.handleGotoProxy(e)}}},[t._v(t._s(t.$t("前往安装")))])],1)]:[t._l(t.area[n.targetKey],(function(e){return r("li",{key:e},[t._v(t._s(e))])})),t._v(" "),r("li",{staticClass:"mt5"},[r("bk-link",{attrs:{theme:"primary"},on:{click:function(e){e.stopPropagation();return t.handleCopy(n.targetKey)}}},[t._v(t._s(t.$t("点击复制")))])],1)]],2)])]}}])}),t._v(" "),r("bk-table-column",{attrs:{prop:"port",label:t.$t("端口"),"show-overflow-tooltip":""}}),t._v(" "),r("bk-table-column",{attrs:{prop:"protocol",label:t.$t("协议"),"show-overflow-tooltip":""}}),t._v(" "),r("bk-table-column",{attrs:{prop:"use",label:t.$t("用途"),"show-overflow-tooltip":""}}),t._v(" "),r("bk-table-column",{attrs:{prop:"remarks",label:t.$t("备注"),"show-overflow-tooltip":""}})],1)};var i=[]},,function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"step-verify-input",class:{"is-error":t.validator.show||t.proxyStatus},on:{click:t.handleFocus}},[t._t("default"),t._v(" "),t.validator.show&&t.validator.errTag&&t.validator.content.indexOf(t.$t("冲突reg"))!==-1?r("span",{staticClass:"error-top-tag"},[t._v("\n    "+t._s(t.$t("冲突"))+"\n  ")]):t.validator.show&&t.position==="right"?r("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.right",value:t.validator,expression:"validator",modifiers:{right:true}}],staticClass:"bk-icon icon-exclamation-circle-shape tooltips-icon",style:t.iconOffsetStyle}):t.validator.show&&t.position==="bottom"?r("p",{staticClass:"bottom-text"},[t._v(t._s(t.validator.content))]):t.proxyStatus&&!t.validator.show?r("bk-popover",t._b({scopedSlots:t._u([{key:"content",fn:function(){return[r("i18n",{ref:"content",attrs:{path:t.proxyStatus==="no_proxy"?"Proxy未安装":"Proxy过期"}},[r("span",{staticClass:"btn",on:{click:function(e){e.stopPropagation();return t.handleClick(e)}}},[t._v(t._s(t.proxyStatus==="no_proxy"?t.$t("前往安装"):t.$t("前往更新")))])])]},proxy:true}])},"bk-popover",{placement:"top-end",delay:275,tippyOptions:{boundary:"window"},theme:"light proxy-tips"},false),[r("span",{staticClass:"bk-icon icon-exclamation-circle-shape tooltips-icon proxy"})]):t._e()],2)};var i=[]},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"input-type",style:{"z-index":t.zIndex}},[t.isInput?r("bk-input",{ref:t.type,attrs:{type:t.type,value:t.inputValue,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled},on:{change:t.handleChange,blur:t.handleBlur,enter:t.handleEnter}},[t.appendSlot?r("template",{slot:"append"},[r("div",{staticClass:"group-text"},[t._v(t._s(t.appendSlot))])]):t._e()],2):t.type==="textarea"?r("div",[r("bk-input",{ref:t.type,attrs:{type:t.type,value:t.inputValue,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled,rows:t.currentRows},on:{change:t.handleChange,blur:t.handleBlur,focus:t.handleFocus,enter:t.handleEnter}}),t._v(" "),t.showEllipsis?r("span",{staticClass:"input-text",on:{click:t.handleShowTextArea}},[t._v(t._s(t.valueText))]):t._e()],1):t.type==="password"?r("bk-input",{ref:t.type,attrs:{type:t.passwordType,value:t.inputValue,placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled,"native-attributes":{autocomplete:"off"}},on:{change:t.handleChange,blur:t.handleBlur,enter:t.handleEnter}}):t.type==="select"?r("permission-select",{ref:t.type,attrs:{"ext-cls":"input-select","permission-key":"view",permission:t.permission,clearable:false,value:t.inputValue,"popover-options":{boundary:"window"},placeholder:t.placeholder,readonly:t.readonly,disabled:t.disabled,"popover-min-width":t.popoverMinWidth,"option-list":t.options,extension:t.prop==="bk_cloud_id"&&!t.options.length},on:{extension:t.handleCreate,change:t.handleChange,toggle:t.handleSelectChange}}):t.type==="file"?r("div",[r("upload",{attrs:{value:t.inputValue,"parse-text":"","max-size":10,unit:"KB","file-info":t.fileInfo},on:{change:t.handleUploadChange}})],1):t.type==="biz"?r("div",[r("bk-biz-select",{ref:t.type,attrs:{value:t.inputValue,"show-select-all":false,"default-checked":false,"auto-update-storage":false,multiple:t.multiple,disabled:t.disabled,readonly:t.readonly,"auto-request":t.autoRequest,"min-width":"auto"},on:{change:t.handleChange,toggle:t.handleSelectChange}})],1):t.type==="auth"?r("div",{staticClass:"input-auth"},[r("bk-dropdown-menu",{ref:"authType",class:{dropdown:t.authType==="TJJ_PASSWORD"},on:{show:function(e){return t.handleDropdownShow()},hide:function(e){return t.handleDropdownHide()}}},[r("div",{staticClass:"auth-type",attrs:{slot:"dropdown-trigger"},slot:"dropdown-trigger"},[r("span",[t._v(t._s(t.authName))]),t._v(" "),r("i",{class:["arrow-icon nodeman-icon nc-arrow-down",{"icon-flip":t.isDropdownShow}]})]),t._v(" "),r("ul",{staticClass:"bk-dropdown-list",attrs:{slot:"dropdown-content"},slot:"dropdown-content"},t._l(t.authentication,(function(e){return r("li",{key:e.id,staticClass:"auth-options",on:{click:function(r){r.stopPropagation();return t.handleAuthChange(e)}}},[r("a",[t._v(t._s(e.name))])])})),0)]),t._v(" "),t.authType==="TJJ_PASSWORD"?r("bk-input",{staticClass:"auth-input",attrs:{value:t.$t("自动拉取"),disabled:""}}):t.authType==="PASSWORD"?r("bk-input",{staticClass:"auth-input",attrs:{value:t.inputValue,type:t.passwordType,"native-attributes":{autocomplete:"off"}},on:{change:t.handleChange,blur:t.handleBlur}}):t.authType==="KEY"?r("upload",{staticClass:"auth-input file",attrs:{value:t.inputValue,"disable-hover-cls":true,"parse-text":"","max-size":10,unit:"KB"},on:{change:t.handleUploadChange}}):t._e()],1):t.type==="switcher"?r("bk-switcher",{attrs:{theme:"primary",size:"small",value:t.inputValue},on:{change:t.handleChange}}):r("span",[t._v("--")])],1)};var i=[]},function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r.d(e,"b",(function(){return i}));var n=function(){var t=this;var e=t.$createElement;var r=t._self._c||e;return r("div",{staticClass:"upload"},[!Object.keys(t.file).length?r("div",{staticClass:"upload-wrapper"},[r("bk-button",{attrs:{"ext-cls":"upload-btn"}},[r("span",{staticClass:"upload-btn-content"},[r("i",{class:t.icon,style:{"font-size":t.iconSize+"px"}}),t._v(" "),r("span",[t._v(t._s(t.title))])])]),t._v(" "),r("input",{ref:"uploadel",staticClass:"upload-input",attrs:{accept:t.accept,multiple:false,name:t.name,title:"",type:"file"},on:{change:t.handleChange}})],1):t._t("uploadInfo",[r("div",{staticClass:"upload-info",class:{hover:t.hoverInfo&&!t.disableHoverCls},on:{mouseenter:t.handleMouseEnter,mouseleave:t.handleMouseLeave}},[r("div",{staticClass:"info-left"},[r("i",{class:t.fileIcon})]),t._v(" "),r("div",{staticClass:"info-right ml5"},[r("div",{staticClass:"info-name"},[r("span",{staticClass:"file-name",attrs:{title:t.file.name}},[t._v(t._s(t.file.name||"name"))]),t._v(" "),r("span",{staticClass:"file-extension"},[t._v(t._s(t.file.extension||""))]),t._v(" "),r("i",{directives:[{name:"show",rawName:"v-show",value:t.hoverInfo,expression:"hoverInfo"}],staticClass:"file-abort nodeman-icon nc-delete",on:{click:t.handleAbortUpload}})]),t._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:t.file.percentage!=="100%",expression:"file.percentage !== '100%'"}],staticClass:"info-progress"},[r("div",{staticClass:"progress-bar",class:{"fail-background":t.file.hasError},style:{width:t.file.percentage||0}})])])])],null,{file:t.file,fileChange:t.handleChange})],2)};var i=[]}])]);