(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{253:function(t,e,i){"use strict";i.r(e);var n=i(549);var r=i(300);for(var a in r)if(["default"].indexOf(a)<0)(function(t){i.d(e,t,(function(){return r[t]}))})(a);var o=i(486);var s=i(2);var u=Object(s["a"])(r["default"],n["a"],n["b"],false,null,"2d2a3b22",null);e["default"]=u.exports},300:function(t,e,i){"use strict";i.r(e);var n=i(301);var r=i.n(n);for(var a in n)if(["default"].indexOf(a)<0)(function(t){i.d(e,t,(function(){return n[t]}))})(a);e["default"]=r.a},301:function(t,e,i){"use strict";var n=i(1);Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var r=n(i(5));var a=n(i(6));var o=n(i(17));var s=n(i(272));var u=n(i(305));var l=n(i(318));var d=n(i(338));var p=n(i(342));var c=n(i(346));var f=n(i(277));var h=n(i(347));var _=n(i(444));var b=n(i(484));var m=i(485);var g=i(280);var v=i(10);var w=i(9);function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}));i.push.apply(i,n)}return i}function k(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};if(e%2){y(Object(i),true).forEach((function(e){(0,o.default)(t,e,i[e])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(i))}else{y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}}return t}var x={name:"agent-setup",components:{Tips:s.default,RightPanel:u.default,SetupTable:l.default,InstallMethod:d.default,FilterIpTips:p.default,FilterDialog:h.default,PermissionSelect:_.default},mixins:[c.default,f.default],data:function t(){return{isManual:false,formData:{bk_biz_id:"",bk_cloud_id:"",ap_id:""},rules:{bk_biz_id:[{required:true,message:this.$t("必填项"),trigger:"blur"}],bk_cloud_id:[{required:true,message:this.$t("必填项"),trigger:"blur"}],ap_id:[{required:true,message:this.$t("必填项"),trigger:"blur"}]},showRightPanel:false,setupInfo:{header:m.setupTableConfig,data:[]},listenResize:null,isScroll:false,loadingSetupBtn:false,loadingCloudList:false,loadingApList:false,setupNum:1,apList:[],apDisabled:false,proxyStatus:"",proxyCloudId:undefined}},computed:k(k(k({},(0,w.mapGetters)(["permissionSwitch"])),(0,w.mapGetters)("agent",["cloudList","apUrl"])),{},{bkCloudList:function t(){var e=this;return this.cloudList.filter((function(t){return!t.bk_biz_scope||t.bk_biz_scope.includes(e.formData.bk_biz_id)}))},i18nPath:function t(){if(this.proxyStatus==="no_proxy"){return"Proxy未安装"}return"Proxy过期"},curApList:function t(){if(this.isManual||this.formData.bk_cloud_id===window.PROJECT_CONFIG.DEFAULT_CLOUD&&this.apList.length===2){return this.apList.filter((function(t){return t.id!==-1}))}return this.apList},tipsList:function t(){return(0,b.default)({apUrl:this.apUrl,net:this.isDefaultCloud})},isEmptyCloud:function t(){return(0,v.isEmpty)(this.formData.bk_cloud_id)},isDefaultCloud:function t(){return window.PROJECT_CONFIG.DEFAULT_CLOUD===this.formData.bk_cloud_id},extraParams:function t(){return this.isManual?["port","account","auth_type","password","prove"]:["password","prove"]},hostType:function t(){if((0,v.isEmpty)(this.formData.bk_cloud_id)){return"mixed"}if(this.isDefaultCloud){return"agent"}return"Pagent"},hostList:function t(){var e=this;var i=this.cloudList.find((function(t){return t.bk_cloud_id===e.formData.bk_cloud_id}));return this.setupInfo.data.map((function(t){return{bk_cloud_id:e.formData.bk_cloud_id,bk_cloud_name:i?i.bk_cloud_name:"",inner_ip:t?t.inner_ip:"",ap_id:e.formData.ap_id}}))}}),watch:{"formData.ap_id":function t(e){var i="";if((0,v.isEmpty)(this.formData.bk_cloud_id)){i=""}else if(this.isDefaultCloud){i="package_inner_url"}else{i="package_outer_url"}this.setApUrl({id:e,urlType:i})}},created:function t(){this.handleInit()},mounted:function t(){var e=this;this.listenResize=(0,v.debounce)(300,(function(t){return e.handleResize(t)}));(0,g.addListener)(this.$el,this.listenResize);this.initLabelWidth(this.$refs.form)},beforeDestroy:function t(){this.setApUrl({id:""});(0,g.removeListener)(this.$el,this.listenResize)},methods:k(k({},(0,w.mapActions)("agent",["installAgentJob","getApList","getCloudList","setApUrl"])),{},{handleInit:function t(){this.initApList();this.initCloudList()},initApList:function t(){var e=this;return(0,a.default)(r.default.mark((function t(){return r.default.wrap((function t(i){while(1){switch(i.prev=i.next){case 0:e.loadingApList=true;i.next=3;return e.getApList();case 3:e.apList=i.sent;e.loadingApList=false;case 5:case"end":return i.stop()}}}),t)})))()},initCloudList:function t(){var e=this;return(0,a.default)(r.default.mark((function t(){return r.default.wrap((function t(i){while(1){switch(i.prev=i.next){case 0:e.loadingCloudList=true;i.next=3;return e.getCloudList({RUN_VER:window.PROJECT_CONFIG.RUN_VER});case 3:e.loadingCloudList=false;case 4:case"end":return i.stop()}}}),t)})))()},handleResize:function t(){this.isScroll=this.$el.scrollHeight+60>this.$root.$el.clientHeight-52},getFormData:function t(){var e=this;return this.$refs.setupTable.getData().map((function(t){return k(k({},t),{},{bk_biz_id:e.formData.bk_biz_id,bk_cloud_id:e.formData.bk_cloud_id,ap_id:e.formData.ap_id,is_manual:e.isManual})}))},handleSetup:function t(){var e=this;var i=this.$refs.setupTable.validate();this.$refs.form.validate().then((0,a.default)(r.default.mark((function t(){var n,a,o,s;return r.default.wrap((function t(r){while(1){switch(r.prev=r.next){case 0:if(!i){r.next=10;break}e.loadingSetupBtn=true;n={job_type:"INSTALL_AGENT",hosts:e.getFormData().map((function(t){if((0,v.isEmpty)(t.login_ip)){delete t.login_ip}if((0,v.isEmpty)(t.bt_speed_limit)){delete t.bt_speed_limit}else{t.bt_speed_limit=Number(t.bt_speed_limit)}t.peer_exchange_switch_for_agent+=0;return t}))};r.next=5;return e.installAgentJob({params:n,config:{needRes:true,globalError:false}});case 5:a=r.sent;e.loadingSetupBtn=false;if(a){r.next=9;break}return r.abrupt("return");case 9:if(a.result||a.code===3801018){e.handleFilterIp(a.data)}else if(a.code===3801013){o=a.data.ip_filter.find((function(t){return["no_proxy","overdue"].includes(t.exception)}))||{};e.proxyStatus=o.exception;e.proxyCloudId=o.bk_cloud_id}else{s=a.message?a.message:e.$t("请求出错");e.$bkMessage({message:s,delay:3e3,theme:"error"})}case 10:case"end":return r.stop()}}}),t)})))).catch((function(){}))},handleCancel:function t(){this.$router.push({name:"agentStatus"})},handleAddItem:function t(){this.setupNum+=1},handleDeleteItem:function t(){this.setupNum-=1},handleBizChange:function t(){this.formData.bk_cloud_id=""},handleCloudChange:function t(e){var i=this.bkCloudList.find((function(t){return t.bk_cloud_id===e}));if(!this.isManual&&i&&i.bk_cloud_id!==window.PROJECT_CONFIG.DEFAULT_CLOUD){this.apDisabled=true;this.formData.ap_id=i.ap_id}else{this.apDisabled=false;this.formData.ap_id=this.curApList.length?this.curApList[0].id:-1}},handleCloudToggle:function t(e){if(e){this.proxyStatus=""}},installMethodHandle:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.isManual=e;var i=(0,v.deepClone)(this.apList);if(this.isManual){this.setupInfo.header=m.setupTableManualConfig;this.apList=i.filter((function(t){return t.id!==-1}));if(this.formData.ap_id===-1){var n=this.isNotAutoSelect?this.apList[0]:this.apList.find((function(t){return t.is_default}));this.formData.ap_id=n?n.id:""}this.apDisabled=false}else{this.setupInfo.header=m.setupTableConfig;if(!i.find((function(t){return t.id===-1}))){i.unshift({id:-1,name:this.$t("自动选择")});this.apList=i}this.handleCloudChange(this.formData.bk_cloud_id)}this.setupInfo.data=(0,v.deepClone)(this.$refs.setupTable.getData());this.$refs.setupTable.handleInit();this.$refs.setupTable.handleScroll()},handleGotoProxy:function t(){if(!this.proxyStatus||(0,v.isEmpty)(this.proxyCloudId))return;switch(this.proxyStatus){case"no_proxy":{var e=this.$router.resolve({name:"setupCloudManager",params:{type:"create",title:this.$t("安装Proxy"),id:this.proxyCloudId}});window.open(e.href,"_blank");break}case"overdue":{var i=this.$router.resolve({name:"cloudManagerDetail",params:{id:this.proxyCloudId}});window.open(i.href,"_blank");break}}},handleShowPanel:function t(){this.setupInfo.data=this.getFormData();this.showRightPanel=true},handleCreateCloud:function t(){this.$router.push({name:"cloudManager"})},handleShowSetting:function t(){this.$refs.setupTable.handleToggleSetting(true)}})};e.default=x},351:function(t,e,i){},484:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:true});e.default=void 0;var n=function t(e){var i=e.apUrl,n=e.net,r=n===void 0?false:n;var a=function t(e,i){return'<font color="'.concat(e,'">').concat(i,"</font>")};var o=r?"开通Nginx策略提示内网":"开通Nginx策略提示外网";return["1、".concat(window.i18n.t("支持的操作系统")),"2、".concat(window.i18n.t(o,{url:a("#313238",i)})),"3、".concat(window.i18n.t("开通Linux策略提示",{ip:a("#313238",window.PROJECT_CONFIG.APPO_IP)})),"4、".concat(window.i18n.t("开通Windows策略提示",{ip:a("#313238",window.PROJECT_CONFIG.APPO_IP),port:a("#313238","139、445")})),"5、".concat(window.i18n.t("登录要求提示")),"6、".concat(window.i18n.t("Linux脚本执行权限提示"))]};e.default=n},485:function(t,e,i){"use strict";var n=i(1);Object.defineProperty(e,"__esModule",{value:true});e.setupTableManualConfig=e.setupTableConfig=void 0;var r=n(i(5));var a=n(i(6));var o=i(273);var s=window.PROJECT_CONFIG.USE_TJJ==="True";var u=["\n","，"," ","、",","];var l=[{label:"IP地址",prop:"inner_ip",type:"textarea",required:true,splitCode:u,unique:true,noRequiredMark:false,placeholder:window.i18n.t("多ip输入提示"),width:"20%",errTag:true,rules:[{content:window.i18n.t("IP不符合规范"),validator:function t(e){if(!e)return true;var i=new RegExp("^((25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$");var n=u.find((function(t){return e.indexOf(t)>0}));e=e.split(n).filter((function(t){return!!t})).map((function(t){return t.trim()}));var r=e.some((function(t){return!i.test(t)}));return!r}},{content:window.i18n.t("冲突校验",{prop:"IP"}),validator:function t(e){if(!e)return true;var i=u.find((function(t){return e.indexOf(t)>0}));e=e.split(i).filter((function(t){return!!t})).map((function(t){return t.trim()}));return new Set(e).size===e.length}},{trigger:"blur",content:window.i18n.t("冲突校验",{prop:"IP"}),validator:function t(e,i){if(!e)return true;var n=this.table.data.find((function(t){return t.id===i}));if(!n)return;return this.handleValidateUnique(n,{prop:"inner_ip",splitCode:u})}},{trigger:"blur",content:"",validator:function t(e,i){var n=this;return(0,a.default)(r.default.mark((function t(){var a,o,l;return r.default.wrap((function t(r){while(1){switch(r.prev=r.next){case 0:if(s){r.next=2;break}return r.abrupt("return",true);case 2:a=u.find((function(t){return e.indexOf(t)>0}));e=e.split(a).filter((function(t){return!!t})).map((function(t){return t.trim()}));r.next=6;return n.fetchPwd({hosts:e});case 6:o=r.sent;if(!(o&&o.success_ips.length===e.length)){r.next=13;break}l=n.table.data.find((function(t){return t.id===i}));if(l){r.next=11;break}return r.abrupt("return",true);case 11:if(l.os_type==="LINUX"){l.port=36e3}l.auth_type="TJJ_PASSWORD";case 13:return r.abrupt("return",true);case 14:case"end":return r.stop()}}}),t)})))()}}]},{label:"操作系统",prop:"os_type",type:"select",batch:true,required:true,default:"LINUX",options:[{id:"WINDOWS",name:"Windows"},{id:"LINUX",name:"Linux"},{id:"AIX",name:"AIX"}],handleValueChange:function t(e){if(e.os_type==="WINDOWS"){e.port=445;e.account="Administrator"}else{e.port=o.defaultPort;e.account="root"}}},{label:"登录端口",prop:"port",type:"text",required:true,batch:true,default:o.defaultPort,rules:[{regx:"^([0-9]|[1-9]\\d{1,3}|[1-5]\\d{4}|6[0-4]\\d{4}|65[0-4]\\d{2}|655[0-2]\\d|6553[0-5])$",content:window.i18n.t("端口范围",{range:"0-65535"})}],getReadonly:function t(e){return e&&e.os_type==="WINDOWS"}},{label:"登录账号",prop:"account",type:"text",required:true,batch:true,default:"root"},{label:"认证方式",prop:"auth_type",type:"select",required:true,batch:true,default:"PASSWORD",subTitle:window.i18n.t("密钥方式仅对Linux/AIX系统生效"),getOptions:function t(e){return e.os_type==="WINDOWS"?o.authentication.filter((function(t){return t.id!=="KEY"})):o.authentication},handleValueChange:function t(e){var i=o.authentication.find((function(t){return t.id===e.auth_type}))||{};e.prove=i.default||""}},{label:"密码密钥",required:true,prop:"prove",type:"password",batch:true,subTitle:window.i18n.t("仅对密码认证生效"),getReadonly:function t(e){return e.auth_type&&e.auth_type==="TJJ_PASSWORD"},getCurrentType:function t(e){var i=o.authentication.find((function(t){return t.id===e.auth_type}))||{};return i.type||"text"}},{label:"登录IP",prop:"login_ip",type:"text",required:false,unique:true,noRequiredMark:true,placeholder:window.i18n.t("请输入"),width:"15%",errTag:true,rules:[{regx:"^((25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$",content:window.i18n.t("IP不符合规范")},{trigger:"blur",content:window.i18n.t("冲突校验",{prop:"IP"}),validator:function t(e,i){if(!e)return true;var n=this.table.data.find((function(t){return t.id===i}));return this.handleValidateUnique(n,{prop:"login_ip"})}}]},{label:"BT传输加速",prop:"peer_exchange_switch_for_agent",type:"switcher",default:true,batch:true,required:false,noRequiredMark:false,width:115},{label:"传输限速",prop:"bt_speed_limit",type:"text",batch:true,required:false,noRequiredMark:false,appendSlot:"MB/s",iconOffset:40,width:160,rules:[{regx:"^[1-9]\\d*$",content:window.i18n.t("整数最小值校验提示",{min:1})}]},{label:"",prop:"",type:"operate",width:60}];e.setupTableConfig=l;var d=[{label:"IP地址",prop:"inner_ip",type:"textarea",required:true,splitCode:u,unique:true,noRequiredMark:false,placeholder:window.i18n.t("多ip输入提示"),width:"auto",errTag:true,rules:[{content:window.i18n.t("IP不符合规范"),validator:function t(e){if(!e)return true;var i=new RegExp("^((25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$");var n=u.find((function(t){return e.indexOf(t)>0}));e=e.trim().split(n);var r=e.some((function(t){return!i.test(t)}));return!r}},{content:window.i18n.t("冲突校验",{prop:"IP"}),validator:function t(e){if(!e)return true;var i=u.find((function(t){return e.indexOf(t)>0}));e=e.trim().split(i);return new Set(e).size===e.length}},{trigger:"blur",content:window.i18n.t("冲突校验",{prop:"IP"}),validator:function t(e,i){if(!e)return true;var n=this.table.data.find((function(t){return t.id===i}));if(!n)return;return this.handleValidateUnique(n,{prop:"inner_ip",splitCode:u})}},{trigger:"blur",content:"",validator:function t(e,i){var n=this;return(0,a.default)(r.default.mark((function t(){var a,o,l;return r.default.wrap((function t(r){while(1){switch(r.prev=r.next){case 0:if(s){r.next=2;break}return r.abrupt("return",true);case 2:a=u.find((function(t){return e.indexOf(t)>0}));e=e.trim().split(a);r.next=6;return n.fetchPwd({hosts:e});case 6:o=r.sent;if(!(o&&o.success_ips.length===e.length)){r.next=13;break}l=n.table.data.find((function(t){return t.id===i}));if(l){r.next=11;break}return r.abrupt("return",true);case 11:if(l.os_type==="LINUX"){l.port=36e3}l.auth_type="TJJ_PASSWORD";case 13:return r.abrupt("return",true);case 14:case"end":return r.stop()}}}),t)})))()}}]},{label:"操作系统",prop:"os_type",type:"select",batch:true,required:true,default:"LINUX",width:"auto",options:[{id:"WINDOWS",name:"Windows"},{id:"LINUX",name:"Linux"},{id:"AIX",name:"AIX"}],handleValueChange:function t(e){if(e.os_type==="WINDOWS"){e.port=445;e.account="Administrator"}else{e.port=o.defaultPort;e.account="root"}}},{label:"登录IP",prop:"login_ip",type:"text",required:false,unique:true,noRequiredMark:true,placeholder:window.i18n.t("请输入"),width:"auto",errTag:true,rules:[{regx:"^((25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$",content:window.i18n.t("IP不符合规范")},{trigger:"blur",content:window.i18n.t("冲突校验",{prop:"IP"}),validator:function t(e,i){if(!e)return true;var n=this.table.data.find((function(t){return t.id===i}));return this.handleValidateUnique(n,{prop:"login_ip"})}}]},{label:"BT传输加速",prop:"peer_exchange_switch_for_agent",type:"switcher",default:true,batch:true,required:false,noRequiredMark:false,width:115},{label:"传输限速",prop:"bt_speed_limit",type:"text",batch:true,required:false,noRequiredMark:false,appendSlot:"MB/s",iconOffset:40,width:160,rules:[{regx:"^[1-9]\\d*$",content:window.i18n.t("整数最小值校验提示",{min:1})}]},{label:"",prop:"",type:"operate",width:60}];e.setupTableManualConfig=d},486:function(t,e,i){"use strict";var n=i(351);var r=i.n(n);var a=r.a},549:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));i.d(e,"b",(function(){return r}));var n=function(){var t=this;var e=t.$createElement;var i=t._self._c||e;return i("article",{staticClass:"agent-setup"},[i("section",{staticClass:"agent-setup-left"},[i("tips",{staticClass:"mb20",scopedSlots:t._u([{key:"default",fn:function(){return[i("p",[t._v("\n          "+t._s(t.$t("安装要求tips",{type:"Agent"}))+"\n          "),i("bk-link",{staticClass:"tips-link",attrs:{theme:"primary"},on:{click:t.handleShowPanel}},[t._v(t._s(t.$t("安装要求")))]),t._v("\n          "+t._s(t.$t("表格展示设置tips"))+"\n          "),i("bk-link",{staticClass:"tips-link",attrs:{theme:"primary"},on:{click:t.handleShowSetting}},[t._v(t._s(t.$t("表格展示设置")))])],1)]},proxy:true}])}),t._v(" "),i("div",{staticClass:"setup-form"},[i("bk-form",{ref:"form",staticClass:"mb30",attrs:{model:t.formData,rules:t.rules}},[i("install-method",{attrs:{"is-manual":t.isManual},on:{change:t.installMethodHandle}}),t._v(" "),i("bk-form-item",{attrs:{"error-display-type":"normal",property:"bk_biz_id",label:t.$t("安装到业务"),required:""}},[i("bk-biz-select",{staticClass:"content-basic",attrs:{"show-select-all":false,multiple:false,"auto-update-storage":false,clearable:false},on:{change:t.handleBizChange},model:{value:t.formData.bk_biz_id,callback:function(e){t.$set(t.formData,"bk_biz_id",e)},expression:"formData.bk_biz_id"}})],1),t._v(" "),i("bk-form-item",{attrs:{"error-display-type":"normal",label:t.$t("云区域"),property:"bk_cloud_id",required:""}},[i("permission-select",{class:["content-basic",{"is-error":["no_proxy","overdue"].includes(t.proxyStatus)}],attrs:{searchable:"",permission:t.permissionSwitch,"permission-type":"cloud_view","permission-key":"view",placeholder:t.$t("选择云区域"),loading:t.loadingCloudList,"option-list":t.bkCloudList,"option-id":"bk_cloud_id","option-name":"bk_cloud_name"},on:{change:t.handleCloudChange,toggle:t.handleCloudToggle},model:{value:t.formData.bk_cloud_id,callback:function(e){t.$set(t.formData,"bk_cloud_id",e)},expression:"formData.bk_cloud_id"}}),t._v(" "),i("i18n",{directives:[{name:"show",rawName:"v-show",value:["no_proxy","overdue"].includes(t.proxyStatus),expression:"['no_proxy', 'overdue'].includes(proxyStatus)"}],staticClass:"form-error-tip item-error-tips",attrs:{path:t.i18nPath,tag:"p"}},[i("span",{staticClass:"btn",on:{click:t.handleGotoProxy}},[t._v("\n              "+t._s(t.proxyStatus==="overdue"?t.$t("前往更新"):t.$t("前往安装"))+"\n            ")])])],1),t._v(" "),i("bk-form-item",{attrs:{"error-display-type":"normal",property:"ap_id",label:t.$t("接入点"),required:""}},[i("bk-select",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:{delay:[300,0],content:t.$t("接入点已在云区域中设定"),disabled:!t.apDisabled,placement:"right"},expression:"{\n                       delay: [300, 0],\n                       content: $t('接入点已在云区域中设定'),\n                       disabled: !apDisabled,\n                       placement: 'right'\n                     }"}],staticClass:"content-basic",attrs:{clearable:false,disabled:t.apDisabled||t.isEmptyCloud,loading:t.loadingApList},model:{value:t.formData.ap_id,callback:function(e){t.$set(t.formData,"ap_id",e)},expression:"formData.ap_id"}},t._l(t.curApList,(function(t){return i("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})})),1)],1),t._v(" "),i("bk-form-item",{class:{mb30:t.isScroll},attrs:{label:t.$t("安装信息"),required:""}},[t.filterList.length&&t.showFilterTips?i("filter-ip-tips",{staticClass:"mb15 filter-tips",on:{click:t.handleShowDetail}}):t._e(),t._v(" "),i("setup-table",{ref:"setupTable",class:{"agent-setup-table":t.isManual},attrs:{"local-mark":"agent_steup","is-manual":t.isManual,"setup-info":t.setupInfo,"extra-params":t.extraParams,"auto-sort":""},on:{add:t.handleAddItem,delete:t.handleDeleteItem}})],1)],1),t._v(" "),i("div",{staticClass:"form-btn",class:{fixed:t.isScroll,shrink:t.isScroll&&t.showRightPanel}},[i("bk-button",{attrs:{theme:"primary","ext-cls":"nodeman-primary-btn",loading:t.loadingSetupBtn},on:{click:t.handleSetup}},[i("div",{staticClass:"form-btn-install"},[i("span",[t._v(t._s(t.$t("安装")))]),t._v(" "),i("span",{staticClass:"num"},[t._v(t._s(t.setupNum))])])]),t._v(" "),i("bk-button",{staticClass:"nodeman-cancel-btn ml10",on:{click:t.handleCancel}},[t._v(t._s(t.$t("取消")))])],1)],1)],1),t._v(" "),i("section",{staticClass:"agent-setup-right",class:{"right-panel":t.showRightPanel}},[i("right-panel",{attrs:{"host-type":t.hostType,"host-list":t.hostList},model:{value:t.showRightPanel,callback:function(e){t.showRightPanel=e},expression:"showRightPanel"}})],1),t._v(" "),[i("filter-dialog",{attrs:{list:t.filterList,title:t.$t("忽略详情")},model:{value:t.showFilterDialog,callback:function(e){t.showFilterDialog=e},expression:"showFilterDialog"}})]],2)};var r=[]}}]);